
/*------------------------------------------------------------------------
# Map Object Manager Class
# ------------------------------------------------------------------------
# author:    Dmitry Zhuk
# copyright: Copyright (C) 2013 zhuk.cc. All Rights Reserved.
# license:   http://creativecommons.org/licenses/by-nc-nd/4.0/
#            Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.
# website:   http://zhuk.cc
# Technical Support Forum: http://forum.zhuk.cc/
# version: 11.3.0
-------------------------------------------------------------------------*/
function jm(iH,jc,hQ,iw,ij,hK){var iW;var it=ij;if(iH!=0){it=jF(hQ,it.toLowerCase());}else{it=it.toLowerCase();}if(jc==2||jc==3){iW=iK(iw,hK.toLowerCase());}else{iW=hK.toLowerCase();}if(jc==0){return iW.indexOf(it)!== -1;}else if(jc==1){return iW.indexOf(iK(iw,it))!== -1;}else if(jc==2){return iW.indexOf(it)!== -1;}else if(jc==3){return iW.indexOf(iK(iw,it))!== -1;}else{return iW.indexOf(it)!== -1;}};function jF(hQ,ij){var ju="";if((typeof hQ!=='undefined')&&(hQ!=null)){for(var jw=0;jw<ij.length;jw++){var iS=hQ[ij.charAt(jw)];if((typeof iS!=='undefined')&&(iS!=null)){ju+=iS;}else{ju+=ij.charAt(jw);}}}else{ju=ij;}return ju;};function iK(iw,ij){var ju="";if((typeof iw!=='undefined')&&(iw!=null)){for(var jw=0;jw<ij.length;jw++){var iQ=iw[ij.charAt(jw)];if((typeof iQ!=='undefined')&&(iQ!=null)){ju+=iQ;}else{ju+=ij.charAt(jw);}}}else{ju=ij;}return ju;};function iE(iH,gW){var ju="";if(iH!=100){if(iH==1){if(gW=="Accent"){ju="ё:е";}else if(gW=="Mapping"){ju="f:а;,:б;d:в;u:г;l:д;t:е;`:ё;;:ж;p:з;b:и;q:й;r:к;k:л;v:м;y:н;j:о;g:п;h:р;c:с;n:т;e:у;a:ф;[:х;w:ц;x:ч;i:ш;o:щ;m:ь;s:ы;]:ъ;':э;.:ю;z:я;<:Б;~:Ё;::Ж;{:Х;}:Ъ;QQ:Э";}else{ju="";}}else if(iH==2){if(gW=="Accent"){ju="";}else if(gW=="Mapping"){ju="f:ф;d:д;u:у;l:л;t:т;`:ѝ;;:ч;p:п;b:б;q:љ;r:р;k:к;v:в;y:ѕ;j:ј;g:г;h:х;c:с;n:н;e:е;a:а;[:ш;w:љ;x:џ;i:и;o:о;m:м;s:с;]:ѓ;':ќ;z:з;\\:ж;~:Ѝ;::Ч;{:Ш;}:Ѓ;QQ:Ќ;|:Ж";}else{ju="";}}else{ju="";}}return ju;};function zhgmMapObjectManager(){zhgmMapObjectManager.ac+=1;this.bQ=zhgmMapObjectManager.ac;this.G=[];this.eU=[];this.fI=[];this.fX=[];this.gn=[];this.gG=[];this.aY=[];this.bL=[];this.im="";this.al=[];this.ct=[];this.bE=[];this.fr=[];this.dS=[];this.gy="";this.gZ="";this.hd=[];this.iY;this.iJ=0;this.ay=false;this.bm=false;this.az=false;this.ie="Independent";this.bI=false;this.aZ=false;this.eB=false;this.iX=0;this.placemarkCenterZoom=false;this.placemarkCenterZoomBounds;this.dZ=false;this.et=32;this.eS=35;this.ew=35;this.fg;this.iv=false;this.er=false;this.bz=0;this.bB="";this.bO="";this.bF="";this.hY="";this.aw=0;this.bV="";this.aQ="";this.bq=0;this.aD=0;this.fC=0;this.map=null;this.hm="";this.bG=null;this.dj=null;this.aj=jQuery.noConflict();this.gO=false;this.gj=null;this.bN=[];this.jq=[];this.jE=[];this.R=null;this.C=null;this.J=null;this.h=[];this.bK=null;this.ah=null;this.aH=null;this.ir=null;this.js=null;this.iy=null;this.bs=null;this.iG=null;this.iB=null;this.ga=null;this.ft=null;this.jf=null;this.dQ=null;this.cb=null;this.bS="";this.cA="";this.dw="";this.cp="";this.dA="";this.iL=0;this.jn=0;this.ii=0;this.eV=0;this.jD=0;this.fq="";this.eh="";this.eH=0;this.gz=5;this.ix=0;this.iZ="";this.jz="";this.hz;this.gh=0;this.fH=0;this.eQ=0;this.eE=0;this.eo="";this.markerlistsearchType=0;this.markerlistsearchMappingType=0;this.markerlistsearchMapping="";this.markerlistsearchAccent="";this.markerlistsearchAccentSide='0';this.grouplistsearchType=0;this.grouplistsearchMappingType=0;this.grouplistsearchMapping="";this.grouplistsearchAccent="";this.grouplistsearchAccentSide='0';zhgmMapObjectManager.aO[this.bQ]=this;this.fF='a-markergroup_';};zhgmMapObjectManager.ac=0;zhgmMapObjectManager.aO=[];zhgmMapObjectManager.prototype.setGroupCountObject=function(t){this.im=t;};zhgmMapObjectManager.prototype.setGoGoogleText=function(t){this.iZ=t;};zhgmMapObjectManager.prototype.setGoGoogle=function(t){this.ix=t;};zhgmMapObjectManager.prototype.setPlacemarkDateFormat=function(t){this.jz=t;};zhgmMapObjectManager.prototype.setPanelHeightDeltaFix=function(t){this.gz=t;};zhgmMapObjectManager.prototype.setCompatibleMode=function(t){this.jD=t;};zhgmMapObjectManager.prototype.setAjaxBufferSizePlacemark=function(t){this.iL=t;};zhgmMapObjectManager.prototype.setAjaxBufferSizePath=function(t){this.jn=t;};zhgmMapObjectManager.prototype.setAjaxBufferSizeRoute=function(t){this.ii=t;};zhgmMapObjectManager.prototype.setPlacemarkLoadType=function(t){this.eV=t;};zhgmMapObjectManager.prototype.setMap=function(t){this.map=t;};zhgmMapObjectManager.prototype.setObjectGroupManagementType=function(t){this.ie=t;};zhgmMapObjectManager.prototype.setMapPanorama=function(t){this.gj=t;this.gO=true;};zhgmMapObjectManager.prototype.setMapLanguageTag=function(t){this.hm=t;};zhgmMapObjectManager.prototype.addManagedGroup=function(cq,gm,jj,jx,iC){var hc;hc=new Object();hc.id=cq;hc.title=gm;hc.description=jj;hc.minzoom=jx;hc.maxzoom=iC;this.fX.push(hc);};zhgmMapObjectManager.prototype.setPlacemarkListSearchMapping=function(gW,jc,iw,hQ){this.markerlistsearchMappingType=gW;this.markerlistsearchAccent=iw;this.markerlistsearchAccentSide=jc;this.markerlistsearchMapping=hQ;};zhgmMapObjectManager.prototype.setGroupListSearchMapping=function(gW,jc,iw,hQ){this.grouplistsearchMappingType=gW;this.grouplistsearchAccent=iw;this.grouplistsearchAccentSide=jc;this.grouplistsearchMapping=hQ;};zhgmMapObjectManager.prototype.setInfowin=function(t){this.bG=t;};zhgmMapObjectManager.prototype.setPanelInfowin=function(t){this.eH=t;};zhgmMapObjectManager.prototype.setCenterPlacemark=function(t){this.gy=t;};zhgmMapObjectManager.prototype.addActionPlacemarkAction=function(t){this.hd.push(t);};zhgmMapObjectManager.prototype.setActionPlacemark=function(t){this.gZ=t;};zhgmMapObjectManager.prototype.setRequestURL=function(t){this.bV=t;};zhgmMapObjectManager.prototype.setContactAttrs=function(t){this.aQ=t;};zhgmMapObjectManager.prototype.setUserContact=function(t){this.bq=t;};zhgmMapObjectManager.prototype.setUserUser=function(t){this.aD=t;};zhgmMapObjectManager.prototype.setServiceDirection=function(t){this.bz=t;};zhgmMapObjectManager.prototype.setIcoIcon=function(t){this.bB=t;};zhgmMapObjectManager.prototype.setIcoUtils=function(t){this.bO=t;};zhgmMapObjectManager.prototype.setIcoDir=function(t){this.bF=t;};zhgmMapObjectManager.prototype.setArticleID=function(t){this.hY=t;this.fF='a-markergroup'+t+"_";};zhgmMapObjectManager.prototype.setPlacemarkRating=function(t){this.aw=t;};zhgmMapObjectManager.prototype.setPlacemarkTitleTag=function(t){this.fq=t;};zhgmMapObjectManager.prototype.setPlacemarkCreationInfo=function(t){this.fC=t;};zhgmMapObjectManager.prototype.setFeature4Control=function(t){this.eh=t;};zhgmMapObjectManager.prototype.addOverlayMapType=function(t){this.gn.push(t);};zhgmMapObjectManager.prototype.addGroundOverlay=function(t){this.gG.push(t);};zhgmMapObjectManager.prototype.setHoverInfoBubble=function(t){this.J=t;};zhgmMapObjectManager.prototype.setHoverInfoWindow=function(t){this.C=t;};zhgmMapObjectManager.prototype.setHoverMarkerType=function(t){this.R=t;};zhgmMapObjectManager.prototype.setUserMarkersFilter=function(t){this.bs=String(t).replace(/\s+/g,"");};zhgmMapObjectManager.prototype.setPlacemarkCategotyList=function(t){this.js=String(t).replace(/\s+/g,"");};zhgmMapObjectManager.prototype.setPlacemarkGroupList=function(t){this.ir=String(t).replace(/\s+/g,"");};zhgmMapObjectManager.prototype.setExcludePlacemarkList=function(t){this.aH=String(t).replace(/\s+/g,"");};zhgmMapObjectManager.prototype.setPlacemarkList=function(t){this.ah=String(t).replace(/\s+/g,"");};zhgmMapObjectManager.prototype.setPathCategotyList=function(t){this.ft=String(t).replace(/\s+/g,"");};zhgmMapObjectManager.prototype.setPathGroupList=function(t){this.ga=String(t).replace(/\s+/g,"");};zhgmMapObjectManager.prototype.setExcludePathList=function(t){this.iB=String(t).replace(/\s+/g,"");};zhgmMapObjectManager.prototype.setPathTagList=function(t){this.jf=String(t).replace(/\s+/g,"");};zhgmMapObjectManager.prototype.setPlacemarkTagList=function(t){this.iy=String(t).replace(/\s+/g,"");};zhgmMapObjectManager.prototype.setPathList=function(t){this.iG=String(t).replace(/\s+/g,"");};zhgmMapObjectManager.prototype.setMapID=function(t){this.bK=String(t).replace(/\s+/g,"");};zhgmMapObjectManager.prototype.enableObjectGroupManagement=function(){this.az=true;};zhgmMapObjectManager.prototype.enablePlacemarkCenterZoom=function(t){this.placemarkCenterZoom=true;this.placemarkCenterZoomBounds=t;};zhgmMapObjectManager.prototype.enablePlacemarkList=function(){this.er=true;};zhgmMapObjectManager.prototype.enableOpacityOverlayControl=function(){this.iv=true;};zhgmMapObjectManager.prototype.enablePlacemarkGroupManagement=function(){this.bI=true;};zhgmMapObjectManager.prototype.enablePathGroupManagement=function(){this.aZ=true;};zhgmMapObjectManager.prototype.enablePlacemarkSpiderManagement=function(){this.dZ=true;this.fg=new google.maps.OverlayView();this.fg.draw=function(){};this.fg.setMap(this.map);};zhgmMapObjectManager.prototype.enablePathXGroupManagement=function(){this.eB=true;};zhgmMapObjectManager.prototype.enablePlacemarkClusterization=function(){this.ay=true;};zhgmMapObjectManager.prototype.enablePlacemarkClusterizationByGroup=function(){this.bm=true;};zhgmMapObjectManager.prototype.setMarkerListPos=function(t){this.fH=t;};zhgmMapObjectManager.prototype.setMarkerListContent=function(t){this.eQ=t;};zhgmMapObjectManager.prototype.setMarkerListAction=function(t){this.eE=t;};zhgmMapObjectManager.prototype.setMarkerListCSSStyle=function(t){this.eo=t;};zhgmMapObjectManager.prototype.PlacemarkAdd=function(L,co,T,K){zhgmMapObjectManager.prototype.cE(this,L,co,T,K);};zhgmMapObjectManager.prototype.cE=function(l,L,co,T,K){var k=l;var bv=L;var bi;k.bN[co]=T;if(typeof k.aY[bv]!=='undefined'){k.aY[bv]=1;bi=k.bL[bv];bi.push(T);k.bL[bv]=bi;}else{k.aY[bv]=1;k.bL[bv]=[T];}};zhgmMapObjectManager.prototype.hI=function(l,t){var k=l;var hC;var ho;hC=k.gn;for(var i=0;i<hC.length;i++){ho=hC[i];ho.setOpacity(t);}hC=k.gG;for(var i=0;i<hC.length;i++){ho=hC[i];ho.setOpacity(t);}};zhgmMapObjectManager.prototype.setOverlayOpacity=function(t){zhgmMapObjectManager.prototype.hI(this,t);};zhgmMapObjectManager.prototype.PathAdd=function(L,bH){zhgmMapObjectManager.prototype.dh(this,L,bH);};zhgmMapObjectManager.prototype.PathXAdd=function(L,bH){zhgmMapObjectManager.prototype.ep(this,L,bH);};zhgmMapObjectManager.prototype.dh=function(l,L,bH){var k=l;var bv=L;var bi;if(typeof k.ct[bv]!=='undefined'){k.ct[bv]=1;bi=k.bE[bv];bi.push(bH);k.bE[bv]=bi;}else{k.ct[bv]=1;k.bE[bv]=[bH];}};zhgmMapObjectManager.prototype.iV=function(l,ao,bH){var k=l;bH.setMap(k.map);if(k.iv){if(ao=="1"){k.addGroundOverlay(bH);}}};zhgmMapObjectManager.prototype.allObjectsAddPlacemark=function(cq,T){zhgmMapObjectManager.prototype.eL(this,cq,T);};zhgmMapObjectManager.prototype.eL=function(l,eW,T){var k=l;var bv=eW;var bi;if(typeof k.eU[bv]!=='undefined'){bi=k.eU[bv];bi.push(T);k.eU[bv]=bi;}else{k.eU[bv]=[T];}};zhgmMapObjectManager.prototype.ec=function(l,ll){var k=l;var dc=k.fg;return dc.getProjection().fromLatLngToDivPixel(ll);};zhgmMapObjectManager.prototype.eY=function(l,pt){var k=l;var dc=k.fg;return dc.getProjection().fromDivPixelToLatLng(pt);};zhgmMapObjectManager.prototype.RestoreSpidered=function(){var k=this;k.fw();};zhgmMapObjectManager.prototype.fw=function(){var k=this;var bJ;var bd;var fm;if(k.dZ){fm=k.fI;for(var i=0;i<fm.length;i++){bd=fm[i];if((typeof bd!=='undefined')&&(bd!=null)){if((typeof bd!=='undefined')&&(bd!=null)){bd.setPosition(bd.zhgmOriginalPosition);bd.setZIndex(bd.zhgmZIndex);}}}k.fI=[];}};zhgmMapObjectManager.prototype.canDoClick=function(cq){var k=this;var es;var fm;var bd;var dN,df,ds;var eO,fE,ea;es=k.fI[cq];if((typeof es!=='undefined')&&(es!=null)){return 0;}k.fw();k.fI=[];dN=zhgmMapObjectManager.prototype.fG(k,cq);if(dN==1){es=k.fI[cq];fs=es.getPosition();eO=zhgmMapObjectManager.prototype.ec(k,fs);var fe=k.eS*10,fi=10;var eg=2*Math.PI;var cD,cG;var el=fi*2*Math.PI;var fD=fe/el;var cu=k.ew;var dp=cu/fD;fm=k.fI;for(var i=0;i<fm.length;i++){bd=k.fI[i];if((typeof bd!=='undefined')&&(bd!=null)){cD=fD*dp;cG=dp+eg;df=eO.x+Math.cos(cG)*cD;ds=eO.y+Math.sin(cG)*cD;fE=new google.maps.Point(df,ds);ea=zhgmMapObjectManager.prototype.eY(k,fE);bd.setPosition(ea);bd.zhgmZIndex=bd.getZIndex();bd.setZIndex(google.maps.Marker.MAX_ZINDEX);dp+=cu/cD;}}}else{k.fI=[];}return dN;};zhgmMapObjectManager.prototype.fG=function(l,cq){var k=l;var fm;var es;var bJ;var bd;var fs;var eO;var ei,bP;var ey,fN;var dX;var ak=k.map;var cC;var bv,dN,df,ds,aM,bC,bk,ap;if(k.dZ){if(k.eU[cq]===undefined){alert("Unable to find placemark with ID = "+cq);}else{cC=0;es=k.fI[cq];if((typeof es!=='undefined')&&(es!=null)){return 0;}else{fm=k.eU[cq];es=fm[0];k.fI[cq]=es;fs=es.getPosition();eO=zhgmMapObjectManager.prototype.ec(k,fs);aM=eO.x+k.et/2;bC=eO.y+k.et/2;bk=eO.x-k.et/2;ap=eO.y-k.et/2;if(aM<bk){df=aM;aM=bk;bk=df;}if(bC<ap){ds=bC;bC=ap;ap=ds;}ei=new google.maps.Point(bk,ap);ey=new google.maps.Point(aM,bC);bP=zhgmMapObjectManager.prototype.eY(k,ei);fN=zhgmMapObjectManager.prototype.eY(k,ey);aM=fN.lng();bC=fN.lat();bk=bP.lng();ap=bP.lat();if(aM<bk){df=aM;aM=bk;bk=df;}if(bC<ap){ds=bC;bC=ap;ap=ds;}bP=new google.maps.LatLng(ap,bk);fN=new google.maps.LatLng(bC,aM);dX=new google.maps.LatLngBounds(bP,fN);fm=k.eU;for(var i=0;i<fm.length;i++){bJ=fm[i];if((typeof bJ!=='undefined')&&(bJ!=null)){bd=bJ[0];if((typeof bd!=='undefined')&&(bd!=null)){if(bd.zhgmPlacemarkID!=es.zhgmPlacemarkID){if(bd.getVisible()&&(bd.getMap()!=null)){if(dX.contains(bd.getPosition())){zhgmMapObjectManager.prototype.fG(k,bd.zhgmPlacemarkID);cC=1;}}}}}}return cC;}}}else{return 0;}};zhgmMapObjectManager.prototype.ep=function(l,L,bH){var k=l;var bv=L;var bi;if(typeof k.fr[bv]!=='undefined'){k.fr[bv]=1;bi=k.dS[bv];bi.push(bH);k.dS[bv]=bi;}else{k.fr[bv]=1;k.dS[bv]=[bH];}};zhgmMapObjectManager.prototype.PlacemarkCount=function(){return this.bL.length;};zhgmMapObjectManager.prototype.jC=function(ee,dn){var F;var aG=ee;var aU;for(var i=0;i<aG.length;i++){F=aG[i];aU=this.G[i];if((typeof F!=='undefined')&&(F!=null)){if((typeof aU!=='undefined')&&(aU!=null)){if(this.az&&this.bI){if(aU!=0){this.aI(i,dn);}else{this.hN(i,dn);}}else{this.aI(i,dn);}}else{this.aI(i,dn);}}}};zhgmMapObjectManager.prototype.io=function(fn,hw){var F;var ht=fn;var aU;for(var i=0;i<ht.length;i++){F=ht[i];aU=this.G[i];if((typeof F!=='undefined')&&(F!=null)){if((typeof aU!=='undefined')&&(aU!=null)){if(this.az&&this.eB){if(F!=0){this.hM(i,hw);}else{this.hV(i,hw);}}else{this.hM(i,hw);}}else{this.hM(i,hw);}}}};zhgmMapObjectManager.prototype.hU=function(fn,hw){var F;var ht=fn;var aU;for(var i=0;i<ht.length;i++){F=ht[i];aU=this.G[i];if((typeof F!=='undefined')&&(F!=null)){if((typeof aU!=='undefined')&&(aU!=null)){if(this.az&&this.aZ){if(F!=0){this.ji(i,hw);}else{this.au(i,hw);}}else{this.ji(i,hw);}}else{this.ji(i,hw);}}}};zhgmMapObjectManager.prototype.iz=function(){var k=this;var iF;var bv;var F;var eu;var gN;var ih=[k.aY,k.ct,k.fr];for(var jd=0;jd<ih.length;jd++){iF=ih[jd];for(var i=0;i<iF.length;i++){bv=iF[i];gN=0;if((typeof bv!=='undefined')&&(bv!=null)){if(k.im=="10"||k.im=="11"||k.im=="12"||k.im=="20"||k.im=="21"||k.im=="22"){F=k.bL[i];if((typeof F!=='undefined')&&(F!=null)){for(var ag=0;ag<F.length;ag++){gN=gN+1;}}}if(k.im=="10"||k.im=="11"||k.im=="12"||k.im=="30"||k.im=="31"||k.im=="32"){F=k.bE[i];if((typeof F!=='undefined')&&(F!=null)){for(var ag=0;ag<F.length;ag++){gN=gN+1;}}}if(k.im=="10"||k.im=="11"||k.im=="12"||k.im=="30"||k.im=="31"||k.im=="32"){F=k.dS[i];if((typeof F!=='undefined')&&(F!=null)){for(var ag=0;ag<F.length;ag++){gN=gN+1;}}}}if(k.im=="10"||k.im=="11"||k.im=="12"||k.im=="20"||k.im=="21"||k.im=="22"||k.im=="30"||k.im=="31"||k.im=="32"){if(gN!=0){eu=document.getElementById("s-markergroup_"+i);if(eu!=null){eu.innerHTML=' '+gN+' ';}}}}}};zhgmMapObjectManager.prototype.ab=function(L,aB){var ai=aB;var bg;var bu;var bv;var eu;if((typeof ai!=='undefined')&&(ai!=null)){if(this.az&&this.bI){var aU=this.G[L];if((typeof aU!=='undefined')&&(aU==1)){if(this.ay){if(this.bm){bg=this.al[L];bg.addMarkers(ai);}else{bg=this.al[0];bg.addMarkers(ai);}}else{for(var ag=0;ag<ai.length;ag++){bu=ai[ag];bu.setMap(this.map);}}if(this.er){for(var ag=0;ag<ai.length;ag++){bu=ai[ag];bv="zhgm_pmlist_item_"+this.hY+"_"+bu.zhgmPlacemarkID;eu=document.getElementById(bv);if(eu!=null){eu.style.display='block';}}}}}else{if(this.ay){if(this.bm){bg=this.al[L];bg.addMarkers(ai);}else{bg=this.al[0];bg.addMarkers(ai);}}else{for(var ag=0;ag<ai.length;ag++){bu=ai[ag];bu.setMap(this.map);}}if(this.er){for(var ag=0;ag<ai.length;ag++){bu=ai[ag];bv="zhgm_pmlist_item_"+this.hY+"_"+bu.zhgmPlacemarkID;eu=document.getElementById(bv);if(eu!=null){eu.style.display='block';}}}}}};zhgmMapObjectManager.prototype.aN=function(L,aB){var ai=aB;var bg;var bu;var bv;var eu;if((typeof ai!=='undefined')&&(ai!=null)){if(this.az&&this.bI){var aU=this.G[L];if((typeof aU==='undefined')||(aU==0)){if(this.ay){if(this.bm){bg=this.al[L];bg.removeMarkers(ai);}else{bg=this.al[0];bg.removeMarkers(ai);}}else{for(var ag=0;ag<ai.length;ag++){bu=ai[ag];bu.setMap(null);}}if(this.er){for(var ag=0;ag<ai.length;ag++){bu=ai[ag];bv="zhgm_pmlist_item_"+this.hY+"_"+bu.zhgmPlacemarkID;eu=document.getElementById(bv);if(eu!=null){eu.style.display='none';}}}}}else{if(this.ay){if(this.bm){bg=this.al[L];bg.removeMarkers(ai);}else{bg=this.al[0];bg.removeMarkers(ai);}}else{for(var ag=0;ag<ai.length;ag++){bu=ai[ag];bu.setMap(null);}}if(this.er){for(var ag=0;ag<ai.length;ag++){bu=ai[ag];bv="zhgm_pmlist_item_"+this.hY+"_"+bu.zhgmPlacemarkID;eu=document.getElementById(bv);if(eu!=null){eu.style.display='none';}}}}}};zhgmMapObjectManager.prototype.aI=function(L,dn){var ai=dn[L];this.ab(L,ai);};zhgmMapObjectManager.prototype.hN=function(L,dn){var ai=dn[L];this.aN(L,ai);};zhgmMapObjectManager.prototype.hM=function(L,hw){var ai=hw[L];this.eb(L,ai);};zhgmMapObjectManager.prototype.hV=function(L,hw){var ai=hw[L];this.fh(L,ai);};zhgmMapObjectManager.prototype.ji=function(L,hw){var ai=hw[L];this.dE(L,ai);};zhgmMapObjectManager.prototype.au=function(L,hw){var ai=hw[L];this.cn(L,ai);};zhgmMapObjectManager.prototype.ClusterAdd=function(L,ar){this.al[L]=ar;};zhgmMapObjectManager.prototype.aq=function(l,H,bD){if(H.dataexists==1){var k=l;var ak=k.map;var aR=parseInt(H.actionbyclick);var bM=parseInt(H.zoombyclick);var ad=k.bG;bD.zhgmPlacemark_actionbyclick=aR;bD.zhgmPlacemark_zoombyclick=bM;if(k.dZ){if(k.canDoClick(bD.zhgmPlacemarkID)==1){return;}}if(aR==0){if(bM!=100){ak.setCenter(bD.getPosition());ak.setZoom(bM);}}else if(aR==1){if(bM!=100){ak.setCenter(bD.getPosition());ak.setZoom(bM);}ad.close();for(var i=0;i<k.h.length;i++){k.h[i].close();}if(k.R!="0"){if(k.R=="1"){k.C.close();}else if(k.R=="2"){k.J.close();}}var ha=eval(H.contentstring);ad.zhgmPlacemarkTitle=H.titleplacemark;ad.zhgmPlacemarkOriginalPosition=bD.zhgmOriginalPosition;ad.zhgmInfowinContent=ha;bD.zhgmPlacemark_contentstring=ha;bD.zhgmPlacemark_titleplacemark=H.titleplacemark;if(k.fH!=0){Map_Animate_Marker_Hide(ak,bD);}if(k.eH==1){k.panelShowPlacemarkContent(ha);}else{ad.setContent(ha);ad.setPosition(bD.getPosition());ad.open(ak);}}else if(aR==2){if(bM!=100){ak.setCenter(bD.getPosition());ak.setZoom(bM);}var cI=H.hrefsite;bD.zhgmPlacemark_sitelocation=cI;window.open(cI);}else if(aR==3){if(bM!=100){ak.setCenter(bD.getPosition());ak.setZoom(bM);}var cI=H.hrefsite;bD.zhgmPlacemark_sitelocation=cI;window.location=cI;}else if(aR==4){if(bM!=100){ak.setCenter(bD.getPosition());ak.setZoom(bM);}ad.close();for(var i=0;i<k.h.length;i++){k.h[i].close();}if(k.R!="0"){if(k.R=="1"){k.C.close();}else if(k.R=="2"){k.J.close();}}ad.zhgmPlacemarkTitle=H.titleplacemark;ad.zhgmPlacemarkOriginalPosition=bD.zhgmOriginalPosition;if(k.fH!=0){Map_Animate_Marker_Hide(ak,bD);}if(k.eH==1){var ha=eval(H.contentstring);bD.zhgmPlacemark_contentstring=ha;k.panelShowPlacemarkContentTabs(ha);}else{var cw;if(H.infobubblestyle!=""){cw=eval("("+H.infobubblestyle+")");}else{cw="";}bD.zhgmPlacemark_infobubblestyle=cw;var O=new InfoBubble(cw);k.h.push(O);bD.zhgmPlacemark_tab_info=H.tab_info;if(H.tab_info!="0"){var ha=eval(H.contentstring);bD.zhgmPlacemark_contentstring=ha;}if(H.tab_info=="1"){O.addTab(H.tab_info_title,ha);bD.zhgmPlacemark_tab_info_title=H.tab_info_title;}if(H.tab_info=="9"){O.setContent(ha);}else{if(H.tab1!=""){O.addTab(H.tab1title,H.tab1);bD.zhgmPlacemark_tab1=H.tab1;bD.zhgmPlacemark_tab1title=H.tab1title;}else{bD.zhgmPlacemark_tab1="";}if(H.tab2!=""){O.addTab(H.tab2title,H.tab2);bD.zhgmPlacemark_tab2=H.tab2;bD.zhgmPlacemark_tab2title=H.tab2title;}else{bD.zhgmPlacemark_tab2="";}if(H.tab3!=""){O.addTab(H.tab3title,H.tab3);bD.zhgmPlacemark_tab3=H.tab3;bD.zhgmPlacemark_tab3title=H.tab3title;}else{bD.zhgmPlacemark_tab3="";}if(H.tab4!=""){O.addTab(H.tab4title,H.tab4);bD.zhgmPlacemark_tab4=H.tab4;bD.zhgmPlacemark_tab4title=H.tab4title;}else{bD.zhgmPlacemark_tab4="";}if(H.tab5!=""){O.addTab(H.tab5title,H.tab5);bD.zhgmPlacemark_tab5=H.tab5;bD.zhgmPlacemark_tab5title=H.tab5title;}else{bD.zhgmPlacemark_tab5="";}if(H.tab6!=""){O.addTab(H.tab6title,H.tab6);bD.zhgmPlacemark_tab6=H.tab6;bD.zhgmPlacemark_tab6title=H.tab6title;}else{bD.zhgmPlacemark_tab6="";}if(H.tab7!=""){O.addTab(H.tab7title,H.tab7);bD.zhgmPlacemark_tab7=H.tab7;bD.zhgmPlacemark_tab7title=H.tab7title;}else{bD.zhgmPlacemark_tab7="";}if(H.tab8!=""){O.addTab(H.tab8title,H.tab8);bD.zhgmPlacemark_tab8=H.tab8;bD.zhgmPlacemark_tab8title=H.tab8title;}else{bD.zhgmPlacemark_tab8="";}if(H.tab9!=""){O.addTab(H.tab9title,H.tab9);bD.zhgmPlacemark_tab9=H.tab9;bD.zhgmPlacemark_tab9title=H.tab9title;}else{bD.zhgmPlacemark_tab9="";}if(H.tab10!=""){O.addTab(H.tab10title,H.tab10);bD.zhgmPlacemark_tab10=H.tab10;bD.zhgmPlacemark_tab10title=H.tab10title;}else{bD.zhgmPlacemark_tab10="";}if(H.tab11!=""){O.addTab(H.tab11title,H.tab11);bD.zhgmPlacemark_tab11=H.tab11;bD.zhgmPlacemark_tab11title=H.tab11title;}else{bD.zhgmPlacemark_tab11="";}if(H.tab12!=""){O.addTab(H.tab12title,H.tab12);bD.zhgmPlacemark_tab12=H.tab12;bD.zhgmPlacemark_tab12title=H.tab12title;}else{bD.zhgmPlacemark_tab12="";}if(H.tab13!=""){O.addTab(H.tab13title,H.tab13);bD.zhgmPlacemark_tab13=H.tab13;bD.zhgmPlacemark_tab13title=H.tab13title;}else{bD.zhgmPlacemark_tab13="";}if(H.tab14!=""){O.addTab(H.tab14title,H.tab14);bD.zhgmPlacemark_tab14=H.tab14;bD.zhgmPlacemark_tab14title=H.tab14title;}else{bD.zhgmPlacemark_tab14="";}if(H.tab15!=""){O.addTab(H.tab15title,H.tab15);bD.zhgmPlacemark_tab15=H.tab15;bD.zhgmPlacemark_tab15title=H.tab15title;}else{bD.zhgmPlacemark_tab15="";}if(H.tab16!=""){O.addTab(H.tab16title,H.tab16);bD.zhgmPlacemark_tab16=H.tab16;bD.zhgmPlacemark_tab16title=H.tab16title;}else{bD.zhgmPlacemark_tab16="";}if(H.tab17!=""){O.addTab(H.tab17title,H.tab17);bD.zhgmPlacemark_tab17=H.tab17;bD.zhgmPlacemark_tab17title=H.tab17title;}else{bD.zhgmPlacemark_tab17="";}if(H.tab18!=""){O.addTab(H.tab18title,H.tab18);bD.zhgmPlacemark_tab18=H.tab18;bD.zhgmPlacemark_tab18title=H.tab18title;}else{bD.zhgmPlacemark_tab18="";}if(H.tab19!=""){O.addTab(H.tab19title,H.tab19);bD.zhgmPlacemark_tab19=H.tab19;bD.zhgmPlacemark_tab19title=H.tab19title;}else{bD.zhgmPlacemark_tab19="";}}if(H.tab_info=="2"){O.addTab(H.tab_info_title,ha);bD.zhgmPlacemark_tab_info_title=H.tab_info_title;}if(!O.isOpen()){O.open(ak,bD);}}}else if(aR==5){var fv_streetviewinfowinmapsv=H.streetviewinfowinmapsv;var fv_streetviewinfowinw=parseInt(H.streetviewinfowinw);var fv_streetviewinfowinh=parseInt(H.streetviewinfowinh);bD.zhgmPlacemark_streetviewinfowinmapsv=fv_streetviewinfowinmapsv;bD.zhgmPlacemark_streetviewinfowinw=fv_streetviewinfowinw;bD.zhgmPlacemark_streetviewinfowinh=fv_streetviewinfowinh;if(bM!=100){ak.setCenter(bD.getPosition());ak.setZoom(bM);}if(k.gO){var fv_panorama=k.gj;fv_panorama.setPosition(bD.getPosition());if(fv_streetviewinfowinmapsv!=""){fv_panorama.setPov(fv_streetviewinfowinmapsv);}}else{ad.close();for(var i=0;i<k.h.length;i++){k.h[i].close();}if(k.R!="0"){if(k.R=="1"){k.C.close();}else if(k.R=="2"){k.J.close();}}ad.setPosition(bD.getPosition());ad.zhgmPlacemarkOriginalPosition=bD.zhgmOriginalPosition;if(k.fH!=0){Map_Animate_Marker_Hide(ak,bD);}if(k.eH==1){k.panelPlacemarkShowPanorama(fv_streetviewinfowinw,fv_streetviewinfowinh,fv_streetviewinfowinmapsv);}else{if(fv_streetviewinfowinmapsv==""){PlacemarkShowPanorama(ak,ad,fv_streetviewinfowinw,fv_streetviewinfowinh,'',k.hY,ad.zhgmPlacemarkOriginalPosition);}else{PlacemarkShowPanorama(ak,ad,fv_streetviewinfowinw,fv_streetviewinfowinh,fv_streetviewinfowinmapsv,k.hY,ad.zhgmPlacemarkOriginalPosition);}}}}else{alert("Unexpected action by click: "+aR);}bD.zhgmPlacemarkConfigLoaded=1;}else{}};zhgmMapObjectManager.prototype.ff_ShowPlacemarkInformation_Reuse=function(l,bD){var k=l;var ak=k.map;var aR=parseInt(bD.zhgmPlacemark_actionbyclick);var bM=parseInt(bD.zhgmPlacemark_zoombyclick);var ad=k.bG;if(k.dZ){if(k.canDoClick(bD.zhgmPlacemarkID)==1){return;}}if(aR==0){if(bM!=100){ak.setCenter(bD.getPosition());ak.setZoom(bM);}}else if(aR==1){if(bM!=100){ak.setCenter(bD.getPosition());ak.setZoom(bM);}ad.close();for(var i=0;i<k.h.length;i++){k.h[i].close();}if(k.R!="0"){if(k.R=="1"){k.C.close();}else if(k.R=="2"){k.J.close();}}var ha=bD.zhgmPlacemark_contentstring;ad.zhgmPlacemarkTitle=bD.zhgmPlacemark_titleplacemark;ad.zhgmPlacemarkOriginalPosition=bD.zhgmOriginalPosition;ad.zhgmInfowinContent=ha;if(k.fH!=0){Map_Animate_Marker_Hide(ak,bD);}if(k.eH==1){k.panelShowPlacemarkContent(ha);}else{ad.setContent(ha);ad.setPosition(bD.getPosition());ad.open(ak);}}else if(aR==2){if(bM!=100){ak.setCenter(bD.getPosition());ak.setZoom(bM);}var cI=bD.zhgmPlacemark_sitelocation;window.open(cI);}else if(aR==3){if(bM!=100){ak.setCenter(bD.getPosition());ak.setZoom(bM);}var cI=bD.zhgmPlacemark_sitelocation;window.location=cI;}else if(aR==4){if(bM!=100){ak.setCenter(bD.getPosition());ak.setZoom(bM);}ad.close();for(var i=0;i<k.h.length;i++){k.h[i].close();}if(k.R!="0"){if(k.R=="1"){k.C.close();}else if(k.R=="2"){k.J.close();}}ad.zhgmPlacemarkTitle=bD.zhgmPlacemark_titleplacemark;ad.zhgmPlacemarkOriginalPosition=bD.zhgmOriginalPosition;if(k.fH!=0){Map_Animate_Marker_Hide(ak,bD);}if(k.eH==1){var ha=bD.zhgmPlacemark_contentstring;k.panelShowPlacemarkContentTabs(ha);}else{var cw;if(bD.zhgmPlacemark_infobubblestyle!=""){cw=bD.zhgmPlacemark_infobubblestyle;}else{cw="";}var O=new InfoBubble(cw);k.h.push(O);if(bD.zhgmPlacemark_tab_info!="0"){var ha=bD.zhgmPlacemark_contentstring;}if(bD.zhgmPlacemark_tab_info=="1"){O.addTab(bD.zhgmPlacemark_tab_info_title,ha);}if(bD.zhgmPlacemark_tab_info=="9"){O.setContent(ha);}else{if(bD.zhgmPlacemark_tab1!=""){O.addTab(bD.zhgmPlacemark_tab1title,bD.zhgmPlacemark_tab1);}if(bD.zhgmPlacemark_tab2!=""){O.addTab(bD.zhgmPlacemark_tab2title,bD.zhgmPlacemark_tab2);}if(bD.zhgmPlacemark_tab3!=""){O.addTab(bD.zhgmPlacemark_tab3title,bD.zhgmPlacemark_tab3);}if(bD.zhgmPlacemark_tab4!=""){O.addTab(bD.zhgmPlacemark_tab4title,bD.zhgmPlacemark_tab4);}if(bD.zhgmPlacemark_tab5!=""){O.addTab(bD.zhgmPlacemark_tab5title,bD.zhgmPlacemark_tab5);}if(bD.zhgmPlacemark_tab6!=""){O.addTab(bD.zhgmPlacemark_tab6title,bD.zhgmPlacemark_tab6);}if(bD.zhgmPlacemark_tab7!=""){O.addTab(bD.zhgmPlacemark_tab7title,bD.zhgmPlacemark_tab7);}if(bD.zhgmPlacemark_tab8!=""){O.addTab(bD.zhgmPlacemark_tab8title,bD.zhgmPlacemark_tab8);}if(bD.zhgmPlacemark_tab9!=""){O.addTab(bD.zhgmPlacemark_tab9title,bD.zhgmPlacemark_tab9);}if(bD.zhgmPlacemark_tab10!=""){O.addTab(bD.zhgmPlacemark_tab10title,bD.zhgmPlacemark_tab10);}if(bD.zhgmPlacemark_tab11!=""){O.addTab(bD.zhgmPlacemark_tab11title,bD.zhgmPlacemark_tab11);}if(bD.zhgmPlacemark_tab12!=""){O.addTab(bD.zhgmPlacemark_tab12title,bD.zhgmPlacemark_tab12);}if(bD.zhgmPlacemark_tab13!=""){O.addTab(bD.zhgmPlacemark_tab13title,bD.zhgmPlacemark_tab13);}if(bD.zhgmPlacemark_tab14!=""){O.addTab(bD.zhgmPlacemark_tab14title,bD.zhgmPlacemark_tab14);}if(bD.zhgmPlacemark_tab15!=""){O.addTab(bD.zhgmPlacemark_tab15title,bD.zhgmPlacemark_tab15);}if(bD.zhgmPlacemark_tab16!=""){O.addTab(bD.hgmPlacemark_tab16title,bD.zhgmPlacemark_tab16);}if(bD.zhgmPlacemark_tab17!=""){O.addTab(bD.zhgmPlacemark_tab17title,bD.zhgmPlacemark_tab17);}if(bD.zhgmPlacemark_tab18!=""){O.addTab(bD.zhgmPlacemark_tab18title,bD.zhgmPlacemark_tab18);}if(bD.zhgmPlacemark_tab19!=""){O.addTab(bD.zhgmPlacemark_tab19title,bD.zhgmPlacemark_tab19);}}if(bD.zhgmPlacemark_tab_info=="2"){O.addTab(bD.zhgmPlacemark_tab_info_title,ha);}if(!O.isOpen()){O.open(ak,bD);}}}else if(aR==5){var fv_streetviewinfowinmapsv=bD.zhgmPlacemark_streetviewinfowinmapsv;var fv_streetviewinfowinw=parseInt(bD.zhgmPlacemark_streetviewinfowinw);var fv_streetviewinfowinh=parseInt(bD.zhgmPlacemark_streetviewinfowinh);if(bM!=100){ak.setCenter(bD.getPosition());ak.setZoom(bM);}if(k.gO){var fv_panorama=k.gj;fv_panorama.setPosition(bD.getPosition());if(fv_streetviewinfowinmapsv!=""){fv_panorama.setPov(fv_streetviewinfowinmapsv);}}else{ad.close();for(var i=0;i<k.h.length;i++){k.h[i].close();}if(k.R!="0"){if(k.R=="1"){k.C.close();}else if(k.R=="2"){k.J.close();}}ad.setPosition(bD.getPosition());ad.zhgmPlacemarkOriginalPosition=bD.zhgmOriginalPosition;if(k.fH!=0){Map_Animate_Marker_Hide(ak,bD);}if(k.eH==1){k.panelPlacemarkShowPanorama(fv_streetviewinfowinw,fv_streetviewinfowinh,fv_streetviewinfowinmapsv);}else{if(fv_streetviewinfowinmapsv==""){PlacemarkShowPanorama(ak,ad,fv_streetviewinfowinw,fv_streetviewinfowinh,'',k.hY,ad.zhgmPlacemarkOriginalPosition);}else{PlacemarkShowPanorama(ak,ad,fv_streetviewinfowinw,fv_streetviewinfowinh,fv_streetviewinfowinmapsv,k.hY,ad.zhgmPlacemarkOriginalPosition);}}}}else{alert("Unexpected action by click: "+aR);}};zhgmMapObjectManager.prototype.ff_ShowPathInformation=function(l,H,pi_pathObject,gS){if(H.dataexists==1){var k=l;var ak=k.map;var aR=parseInt(H.actionbyclick);var ad=k.bG;pi_pathObject.zhgmPath_actionbyclick=aR;if(aR==0){}else if(aR==1){ad.close();for(var i=0;i<k.h.length;i++){k.h[i].close();}if(k.R!="0"){if(k.R=="1"){k.C.close();}else if(k.R=="2"){k.J.close();}}var ha=eval(H.contentstring);pi_pathObject.zhgmPath_contentstring=ha;pi_pathObject.zhgmPath_titlepath=H.titlepath;ad.zhgmTitle=H.titlepath;ad.zhgmInfowinContent=ha;if(k.fH!=0){Map_Animate_Marker_Hide(ak,pi_pathObject);}if(k.eH==1){k.panelShowPathContent(ha);}else{ad.setContent(ha);ad.setPosition(gS);ad.open(ak);}}else if(aR==2){var cI=H.hrefsite;pi_pathObject.zhgmPath_sitelocation=cI;window.open(cI);}else if(aR==3){var cI=H.hrefsite;pi_pathObject.zhgmPath_sitelocation=cI;window.location=cI;}else{alert("Unexpected action by click: "+aR);}pi_pathObject.zhgmPathConfigLoaded=1;}else{}};zhgmMapObjectManager.prototype.ff_ShowPathInformation_Reuse=function(l,pi_pathObject,gS){var k=l;var ak=k.map;var aR=pi_pathObject.zhgmPath_actionbyclick;var ad=k.bG;if(aR==0){}else if(aR==1){ad.close();for(var i=0;i<k.h.length;i++){k.h[i].close();}if(k.R!="0"){if(k.R=="1"){k.C.close();}else if(k.R=="2"){k.J.close();}}var ha=pi_pathObject.zhgmPath_contentstring;ad.zhgmTitle=pi_pathObject.zhgmPath_titlepath;ad.zhgmInfowinContent=ha;if(k.fH!=0){Map_Animate_Marker_Hide(ak,pi_pathObject);}if(k.eH==1){k.panelShowPathContent(ha);}else{ad.setContent(ha);ad.setPosition(gS);ad.open(ak);}}else if(aR==2){var cI=pi_pathObject.zhgmPath_sitelocation;window.open(cI);}else if(aR==3){var cI=pi_pathObject.zhgmPath_sitelocation;window.location=cI;}else{alert("Unexpected action by click: "+aR);}};zhgmMapObjectManager.prototype.GetPlacemarkAJAX=function(pi_ajax_type){var fv_url=this.bV+'index.php?option=com_zhgooglemap&no_html=1&format=raw&task=getAJAXPlacemarkList';var ak=this.map;var fv_mapid=this.bK;var fv_placemarklistid=this.ah;var fv_explacemarklistid=this.aH;var fv_grouplistid=this.ir;var fv_categorylistid=this.js;var fv_usermarkersfilter=this.bs;var k=this;var fv_placemark_load_type=this.eV;var fv_taglistid=this.iy;var av={mapid:fv_mapid,placemarklistid:fv_placemarklistid,explacemarklistid:fv_explacemarklistid,grouplistid:fv_grouplistid,categorylistid:fv_categorylistid,taglistid:fv_taglistid,usermarkersfilter:fv_usermarkersfilter,placemarkloadtype:fv_placemark_load_type,x1:ak.getBounds().getSouthWest().lng(),y1:ak.getBounds().getSouthWest().lat(),x2:ak.getBounds().getNorthEast().lng(),y2:ak.getBounds().getNorthEast().lat()};if(pi_ajax_type=='mootools'){var fv_request=new Request({url:fv_url,method:'post',data:av,async:true,onSuccess:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=JSON.decode(responseText);zhgmMapObjectManager.prototype.ff_ShowPlacemarkListAJAX(pi_ajax_type,k,fv_responseObject);},onRequest:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},onFailure:function(xhr){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert(xhr.status+','+xhr.statusText+','+xhr.responseText);}}).send();}else if(pi_ajax_type=='jquery'){var ae=k.aj;ae.ajax({url:fv_url,type:'post',data:av,dataType:'json',async:true,success:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=responseText;zhgmMapObjectManager.prototype.ff_ShowPlacemarkListAJAX(pi_ajax_type,k,fv_responseObject);},beforeSend:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},fail:function(xhr,textStatus){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert("Error"+textStatus);}});}};zhgmMapObjectManager.prototype.ff_ShowPlacemarkListAJAX_buffered=function(pi_ajax_type,l,pi_ajaxPlacemarkListArray){var k=l;var fv_ajaxPlacemarkListArray=pi_ajaxPlacemarkListArray;var bv;var fv_url=k.bV+'index.php?option=com_zhgooglemap&no_html=1&format=raw&task=getAJAXPlacemarks';var av={ajaxarray:fv_ajaxPlacemarkListArray,mapmarkerlistpos:k.fH,mapmarkerlistcontent:k.eQ,mapmarkerlistaction:k.eE,mapmarkerlistcssstyle:k.eo,maparticleid:k.hY,iconicon:k.bB};if(pi_ajax_type=='mootools'){var fv_request=new Request({url:fv_url,method:'post',data:av,async:true,onSuccess:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=JSON.decode(responseText);zhgmMapObjectManager.prototype.da(pi_ajax_type,k,fv_responseObject);},onRequest:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},onFailure:function(xhr){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert(xhr.status+','+xhr.statusText+','+xhr.responseText);}}).send();}else if(pi_ajax_type=='jquery'){var ae=k.aj;ae.ajax({url:fv_url,type:'post',data:av,dataType:'json',async:true,success:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=responseText;zhgmMapObjectManager.prototype.da(pi_ajax_type,k,fv_responseObject);},beforeSend:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},fail:function(xhr,textStatus){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert("Error"+textStatus);}});}};zhgmMapObjectManager.prototype.ff_ShowPlacemarkListAJAX=function(pi_ajax_type,l,pi_responseObjectList){if(pi_responseObjectList.dataexists==1){var bJ=pi_responseObjectList.markers;var k=l;var fv_ajaxPlacemarkListArray=[];var bv;var fv_max_buffer=k.iL;var fv_cnt;fv_cnt=0;for(var i=0;i<bJ.length;i++){bv=bJ[i].id;if(typeof k.bN[bv]!=='undefined'){}else{fv_ajaxPlacemarkListArray.push(bv);if(fv_max_buffer!=0){fv_cnt+=1;if(fv_cnt>=fv_max_buffer){fv_cnt=0;var fv_ajaxPlacemarkListArray_buffer=fv_ajaxPlacemarkListArray.slice(0);zhgmMapObjectManager.prototype.ff_ShowPlacemarkListAJAX_buffered(pi_ajax_type,k,fv_ajaxPlacemarkListArray_buffer);fv_ajaxPlacemarkListArray=[];}}}}var fv_ajaxPlacemarkListArray_buffer=fv_ajaxPlacemarkListArray.slice(0);if(fv_ajaxPlacemarkListArray_buffer.length!=0){zhgmMapObjectManager.prototype.ff_ShowPlacemarkListAJAX_buffered(pi_ajax_type,k,fv_ajaxPlacemarkListArray_buffer);}fv_ajaxPlacemarkListArray=[];}else{}};zhgmMapObjectManager.prototype.da=function(pi_ajax_type,l,H){var aG=[];var fv_placemarksGroupObjects_NEW=[];var bi;var fv_placemark_object;var bJ=H.markers;var k=l;var bv;var fv_groupid;if(H.dataexists==1){for(var i=0;i<bJ.length;i++){bv=bJ[i].id;fv_groupid=bJ[i].markergroup;if(typeof k.bN[bv]!=='undefined'){}else{fv_placemark_object=k.ff_CreatePlacemarkAJAX(pi_ajax_type,k,bJ[i]);if(k.fH!=0){var fo;if(k.eQ<100){fo='var markerUL = document.getElementById("GMapsMarkerUL'+k.hY+'");';}else{fo='var markerUL = document.getElementById("GMapsMarkerTABLEBODY'+k.hY+'");';}if(bJ[i].placemarklistcontent!=""){eval(fo+bJ[i].placemarklistcontent);}}if((typeof aG[fv_groupid]!=='undefined')&&(aG[fv_groupid]!=null)){aG[fv_groupid]+=1;bi=fv_placemarksGroupObjects_NEW[fv_groupid];bi.push(fv_placemark_object);fv_placemarksGroupObjects_NEW[fv_groupid]=bi;}else{aG[fv_groupid]=1;fv_placemarksGroupObjects_NEW[fv_groupid]=[fv_placemark_object];}}}k.jC(aG,fv_placemarksGroupObjects_NEW);k.refreshPlacemarkCenterZoomBounds();k.refreshPlacemarkListSearch();k.iz();k.ff_PlacemarkLast2Open();}else{}};zhgmMapObjectManager.prototype.ff_CreatePlacemarkAJAX=function(pi_ajax_type,l,pi_markerobject){var k=l;var fv_ajaxlatlng=new google.maps.LatLng(pi_markerobject.latitude,pi_markerobject.longitude);var fv_ajaxPlacemark;var fv_map_bounds=k.placemarkCenterZoomBounds;if(pi_markerobject.baloon=="21"||pi_markerobject.baloon=="22"||pi_markerobject.baloon=="23"){fv_ajaxPlacemark=new MarkerWithLabel({position:fv_ajaxlatlng});if(pi_markerobject.labelcontent!=""){if(pi_markerobject.labelclass!=""){fv_ajaxPlacemark.set("labelClass",pi_markerobject.labelclass);}if(pi_markerobject.labelanchorx!="0"||(pi_markerobject.labelanchory!="0")){fv_ajaxPlacemark.set("labelAnchor",new google.maps.Point(pi_markerobject.labelanchorx,pi_markerobject.labelanchory));}if(pi_markerobject.labelcontent!=""){fv_ajaxPlacemark.set("labelContent",pi_markerobject.labelcontent);}if(pi_markerobject.labelinbackground=="0"){fv_ajaxPlacemark.set("labelInBackground",false);}else{fv_ajaxPlacemark.set("labelInBackground",true);}}}else{fv_ajaxPlacemark=new google.maps.Marker({position:fv_ajaxlatlng});}if(pi_markerobject.markercontent=="0"||pi_markerobject.markercontent=="1"||pi_markerobject.markercontent=="9"){fv_ajaxPlacemark.setTitle(pi_markerobject.title);}if(pi_markerobject.openbaloon==1){k.iY=fv_ajaxPlacemark;k.iJ=1;}if(pi_markerobject.overridemarkericon=="1"){if(parseInt(pi_markerobject.groupiconofsetx)!=0||(parseInt(pi_markerobject.groupiconofsety)!=0)){var fv_img=new Image();fv_img.onload=function(){var fv_offset_fix;if(pi_markerobject.groupicontype.substring(0,8)=="default#"){fv_offset_fix=7;}else{fv_offset_fix=this.width/2;}var fv_ofsX=parseInt(pi_markerobject.groupiconofsetx)+fv_offset_fix;var fv_ofsY=parseInt(pi_markerobject.groupiconofsety)+this.height;fv_markerImage={url:k.bB+pi_markerobject.groupicontype.replace("#","%23")+".png",anchor:new google.maps.Point(fv_ofsX,fv_ofsY)};fv_ajaxPlacemark.setIcon(fv_markerImage);};fv_img.src=k.bB+pi_markerobject.groupicontype.replace("#","%23")+".png";}else{fv_markerImage=k.bB+pi_markerobject.groupicontype.replace("#","%23")+".png";fv_ajaxPlacemark.setIcon(fv_markerImage);}}else{if(parseInt(pi_markerobject.iconofsetx)!=0||(parseInt(pi_markerobject.iconofsety)!=0)){var fv_img=new Image();fv_img.onload=function(){var fv_offset_fix;if(pi_markerobject.icontype.substring(0,8)=="default#"){fv_offset_fix=7;}else{fv_offset_fix=this.width/2;}var fv_ofsX=parseInt(pi_markerobject.iconofsetx)+fv_offset_fix;var fv_ofsY=parseInt(pi_markerobject.iconofsety)+this.height;fv_markerImage={url:k.bB+pi_markerobject.icontype.replace("#","%23")+".png",anchor:new google.maps.Point(fv_ofsX,fv_ofsY)};fv_ajaxPlacemark.setIcon(fv_markerImage);};fv_img.src=k.bB+pi_markerobject.icontype.replace("#","%23")+".png";}else{fv_markerImage=k.bB+pi_markerobject.icontype.replace("#","%23")+".png";fv_ajaxPlacemark.setIcon(fv_markerImage);}}if(pi_markerobject.baloon=="1"||pi_markerobject.baloon=="11"||pi_markerobject.baloon=="21"){fv_ajaxPlacemark.setAnimation(google.maps.Animation.DROP);}else if(pi_markerobject.baloon=="2"||pi_markerobject.baloon=="12"||pi_markerobject.baloon=="22"){fv_ajaxPlacemark.setAnimation(google.maps.Animation.BOUNCE);}zhgmMapObjectManager.prototype.cE(k,pi_markerobject.markergroup,pi_markerobject.id,fv_ajaxPlacemark,pi_markerobject);fv_ajaxPlacemark.zhgmRating=pi_markerobject.rating_value;fv_ajaxPlacemark.zhgmPlacemarkID=pi_markerobject.id;fv_ajaxPlacemark.zhgmPlacemarkDescription=pi_markerobject.description;fv_ajaxPlacemark.zhgmContactAttrs=k.aQ;fv_ajaxPlacemark.zhgmUserContact=k.bq;fv_ajaxPlacemark.zhgmUserUser=k.aD;fv_ajaxPlacemark.zhgmOriginalPosition=fv_ajaxPlacemark.getPosition();fv_ajaxPlacemark.zhgmTitle=pi_markerobject.title;fv_ajaxPlacemark.zhgmIncludeInList=pi_markerobject.includeinlist;k.allObjectsAddPlacemark(pi_markerobject.id,fv_ajaxPlacemark);zhgmMapObjectManager.prototype.addPlacemarkListeners(pi_ajax_type,k,fv_ajaxPlacemark);if(k.R){if(pi_markerobject.do_hover!=""){zhgmMapObjectManager.prototype.addPlacemarkHoverListeners(pi_ajax_type,k,fv_ajaxPlacemark);}}if(k.gy==pi_markerobject.id){k.map.setCenter(fv_ajaxlatlng);}if(k.gZ==pi_markerobject.id){for(var i=0;i<k.hd.length;i++){if(k.hd[i]=="click"){google.maps.event.trigger(fv_ajaxPlacemark,"click");}else if(k.hd[i]=="bounce"){fv_ajaxPlacemark.setAnimation(google.maps.Animation.BOUNCE);}else{fv_markerImage=k.bB+k.hd[i].replace("#","%23")+".png";fv_ajaxPlacemark.setIcon(fv_markerImage);}}}if(k.placemarkCenterZoom){fv_map_bounds.extend(fv_ajaxlatlng);}return fv_ajaxPlacemark;};zhgmMapObjectManager.prototype.ff_PlacemarkLast2Open=function(){var k=this;var fv_ajaxPlacemark;if(k.iJ==1){fv_ajaxPlacemark=k.iY;google.maps.event.trigger(fv_ajaxPlacemark,"click");}};zhgmMapObjectManager.prototype.PlacemarkListAction=function(cq){var k=this;var ak=k.map;if(typeof k.eU[cq]!=='undefined'){var fm=k.eU[cq];var es=fm[0];var fs=es.getPosition();if(k.eE==0){ak.setCenter(fs);}else if(k.eE==1){google.maps.event.trigger(es,"click");}else if(k.eE==11){ak.setCenter(fs);google.maps.event.trigger(es,"click");}else if(k.eE==2){ak.setCenter(fs);Map_Animate_Marker(ak,es);}else if(k.eE==3){Map_Animate_Marker(ak,es);google.maps.event.trigger(es,"click");}else if(k.eE==12){Map_Animate_Marker(ak,es);ak.setCenter(fs);google.maps.event.trigger(es,"click");}else{ak.setCenter(fs);}}};zhgmMapObjectManager.prototype.PlacemarkAddListeners=function(pi_ajax_type,pi_markerobject){var k=this;k.addPlacemarkListeners(pi_ajax_type,k,pi_markerobject);};zhgmMapObjectManager.prototype.addPlacemarkListeners=function(pi_ajax_type,l,pi_ajaxPlacemark){pi_ajaxPlacemark.zhgmPlacemarkConfigLoaded=0;google.maps.event.addListener(pi_ajaxPlacemark,'click',function(event){var k=l;var fv_url=k.bV+'index.php?option=com_zhgooglemap&no_html=1&format=raw&task=getPlacemarkDetails';var av={id:this.zhgmPlacemarkID,contactattrs:this.zhgmContactAttrs,usercontact:this.zhgmUserContact,useruser:this.zhgmUserUser,servicedirection:k.bz,iconicon:k.bB,iconutil:k.bO,icondir:k.bF,articleid:k.hY,placemarkrating:k.aw,placemarktitletag:k.fq,language:k.hm,showcreateinfo:k.fC,panelinfowin:k.eH,gogoogle:k.ix,gogoogle_text:k.iZ,placemarkdateformat:k.jz};var fv_markerObject=this;if(pi_ajaxPlacemark.zhgmPlacemarkConfigLoaded=="1"){zhgmMapObjectManager.prototype.ff_ShowPlacemarkInformation_Reuse(k,pi_ajaxPlacemark,event);}else{if(pi_ajax_type=='mootools'){var fv_request=new Request({url:fv_url,method:'post',data:av,async:true,onSuccess:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=JSON.decode(responseText);zhgmMapObjectManager.prototype.aq(k,fv_responseObject,pi_ajaxPlacemark);},onRequest:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},onFailure:function(xhr){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert(xhr.status+','+xhr.statusText+','+xhr.responseText);}}).send();}else if(pi_ajax_type=='jquery'){var ae=k.aj;ae.ajax({url:fv_url,type:'post',data:av,dataType:'json',async:true,success:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=responseText;zhgmMapObjectManager.prototype.aq(k,fv_responseObject,pi_ajaxPlacemark);},beforeSend:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},fail:function(xhr,textStatus){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert("Error"+textStatus);}});}}});};zhgmMapObjectManager.prototype.PlacemarkAddHoverListeners=function(pi_ajax_type,pi_markerobject){var k=this;zhgmMapObjectManager.prototype.addPlacemarkHoverListeners(pi_ajax_type,k,pi_markerobject);};zhgmMapObjectManager.prototype.addPlacemarkHoverListeners=function(pi_ajax_type,l,pi_ajaxPlacemark){pi_ajaxPlacemark.zhgmPlacemarkHoverConfigLoaded=0;google.maps.event.addListener(pi_ajaxPlacemark,'mouseover',function(event){var k=l;this.zhgmZIndex=this.getZIndex();this.setZIndex(google.maps.Marker.MAX_ZINDEX);var fv_url=k.bV+'index.php?option=com_zhgooglemap&no_html=1&format=raw&task=getPlacemarkHoverText';var av={id:this.zhgmPlacemarkID};var fv_markerObject=this;if(pi_ajaxPlacemark.zhgmPlacemarkHoverConfigLoaded=="1"){zhgmMapObjectManager.prototype.ff_ShowPlacemarkHoverText_Reuse(k,pi_ajaxPlacemark,event);}else{if(pi_ajax_type=='mootools'){var fv_request=new Request({url:fv_url,method:'post',data:av,async:true,onSuccess:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=JSON.decode(responseText);zhgmMapObjectManager.prototype.ff_ShowPlacemarkHoverText(k,fv_responseObject,pi_ajaxPlacemark);},onRequest:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},onFailure:function(xhr){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert(xhr.status+','+xhr.statusText+','+xhr.responseText);}}).send();}else if(pi_ajax_type=='jquery'){var ae=k.aj;ae.ajax({url:fv_url,type:'post',data:av,dataType:'json',async:true,success:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=responseText;zhgmMapObjectManager.prototype.ff_ShowPlacemarkHoverText(k,fv_responseObject,pi_ajaxPlacemark);},beforeSend:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},fail:function(xhr,textStatus){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert("Error"+textStatus);}});}}});google.maps.event.addListener(pi_ajaxPlacemark,'mouseout',function(event){var k=l;this.setZIndex(this.zhgmZIndex);if(k.R!="0"){if(k.R=="1"){k.C.close();}else if(k.R=="2"){k.J.close();}}});};zhgmMapObjectManager.prototype.GetPathAJAX=function(pi_ajax_type){var fv_url=this.bV+'index.php?option=com_zhgooglemap&no_html=1&format=raw&task=getAJAXPathList';var ak=this.map;var fv_mapid=this.bK;var fv_pathlistid=this.iG;var fv_expathlistid=this.iB;var fv_grouplistid=this.ga;var fv_categorylistid=this.ft;var fv_pathtaglistid=this.jf;var k=this;var av={mapid:fv_mapid,pathlistid:fv_pathlistid,expathlistid:fv_expathlistid,grouplistid:fv_grouplistid,categorylistid:fv_categorylistid,pathtaglistid:fv_pathtaglistid};if(pi_ajax_type=='mootools'){var fv_request=new Request({url:fv_url,method:'post',data:av,async:true,onSuccess:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=JSON.decode(responseText);zhgmMapObjectManager.prototype.ff_ShowPathListAJAX(pi_ajax_type,k,fv_responseObject);},onRequest:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},onFailure:function(xhr){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert(xhr.status+','+xhr.statusText+','+xhr.responseText);}}).send();}else if(pi_ajax_type=='jquery'){var ae=k.aj;ae.ajax({url:fv_url,type:'post',data:av,dataType:'json',async:true,success:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=responseText;zhgmMapObjectManager.prototype.ff_ShowPathListAJAX(pi_ajax_type,k,fv_responseObject);},beforeSend:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},fail:function(xhr,textStatus){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert("Error"+textStatus);}});}};zhgmMapObjectManager.prototype.ff_ShowPathListAJAX=function(pi_ajax_type,l,pi_responseObjectList){if(pi_responseObjectList.dataexists==1){var fv_paths=pi_responseObjectList.paths;var k=l;var fv_ajaxPathListArray=[];var bv;var fv_max_buffer=k.jn;var fv_cnt;fv_cnt=0;for(var i=0;i<fv_paths.length;i++){bv=fv_paths[i].id;if(typeof k.jq[bv]!=='undefined'){}else{fv_ajaxPathListArray.push(bv);if(fv_max_buffer!=0){fv_cnt+=1;if(fv_cnt>=fv_max_buffer){fv_cnt=0;var fv_ajaxPathListArray_buffer=fv_ajaxPathListArray.slice(0);zhgmMapObjectManager.prototype.ff_ShowPathListAJAX_buffered(pi_ajax_type,k,fv_ajaxPathListArray_buffer);fv_ajaxPathListArray=[];}}}}var fv_ajaxPathListArray_buffer=fv_ajaxPathListArray.slice(0);if(fv_ajaxPathListArray_buffer.length!=0){zhgmMapObjectManager.prototype.ff_ShowPathListAJAX_buffered(pi_ajax_type,k,fv_ajaxPathListArray_buffer);}fv_ajaxPathListArray=[];}else{}};zhgmMapObjectManager.prototype.ff_ShowPathListAJAX_buffered=function(pi_ajax_type,l,pi_ajaxPathListArray){var k=l;var fv_ajaxPathListArray=pi_ajaxPathListArray;var bv;var fv_url=k.bV+'index.php?option=com_zhgooglemap&no_html=1&format=raw&task=getAJAXPaths';var av={ajaxarray:fv_ajaxPathListArray,maparticleid:k.hY};if(pi_ajax_type=='mootools'){var fv_request=new Request({url:fv_url,method:'post',data:av,async:true,onSuccess:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=JSON.decode(responseText);zhgmMapObjectManager.prototype.iP(pi_ajax_type,k,fv_responseObject);},onRequest:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},onFailure:function(xhr){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert(xhr.status+','+xhr.statusText+','+xhr.responseText);}}).send();}else if(pi_ajax_type=='jquery'){var ae=k.aj;ae.ajax({url:fv_url,type:'post',data:av,dataType:'json',async:true,success:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=responseText;zhgmMapObjectManager.prototype.iP(pi_ajax_type,k,fv_responseObject);},beforeSend:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},fail:function(xhr,textStatus){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert("Error"+textStatus);}});}};zhgmMapObjectManager.prototype.iP=function(pi_ajax_type,l,H){var bi;var fv_pathsXGroupID_NEW=[];var fv_pathsXGroupObjects_NEW=[];var fv_pathX_object;var fv_pathX_object_array=[];var ht=[];var fv_pathsGroupObjects_NEW=[];var fv_path_object;var fv_path_object_array=[];var fv_pathOVL_object;var fv_pathOVL_object_array=[];var fv_paths=H.paths;var k=l;var bv;var fv_groupid;if(H.dataexists==1){for(var i=0;i<fv_paths.length;i++){bv=fv_paths[i].id;fv_groupid=fv_paths[i].markergroup;if(typeof k.jq[bv]!=='undefined'){}else{k.jq[bv]=fv_paths[i];fv_pathX_object_array=k.ff_CreatePathXAJAX(pi_ajax_type,k,fv_paths[i]);for(var ag=0;ag<fv_pathX_object_array.length;ag++){fv_pathX_object=fv_pathX_object_array[ag];if((typeof fv_pathsXGroupID_NEW[fv_groupid]!=='undefined')&&(fv_pathsXGroupID_NEW[fv_groupid]!=null)){fv_pathsXGroupID_NEW[fv_groupid]+=1;bi=fv_pathsXGroupObjects_NEW[fv_groupid];bi.push(fv_pathX_object);fv_pathsXGroupObjects_NEW[fv_groupid]=bi;}else{fv_pathsXGroupID_NEW[fv_groupid]=1;fv_pathsXGroupObjects_NEW[fv_groupid]=[fv_pathX_object];}}fv_path_object_array=k.ip(pi_ajax_type,k,fv_paths[i]);for(var ag=0;ag<fv_path_object_array.length;ag++){fv_path_object=fv_path_object_array[ag];if((typeof ht[fv_groupid]!=='undefined')&&(ht[fv_groupid]!=null)){ht[fv_groupid]+=1;bi=fv_pathsGroupObjects_NEW[fv_groupid];bi.push(fv_path_object);fv_pathsGroupObjects_NEW[fv_groupid]=bi;}else{ht[fv_groupid]=1;fv_pathsGroupObjects_NEW[fv_groupid]=[fv_path_object];}}fv_pathOVL_object_array=k.iO(pi_ajax_type,k,fv_paths[i]);}}k.io(fv_pathsXGroupID_NEW,fv_pathsXGroupObjects_NEW);k.hU(ht,fv_pathsGroupObjects_NEW);}else{}};zhgmMapObjectManager.prototype.ff_CreatePathXAJAX=function(pi_ajax_type,l,pi_pathobject){var k=l;var fv_ajaxPath;var fv_ajaxPath_array=[];var fv_coord_list;var fv_coords=[];var fv_coord=[];var fv_allCoordinates=[];var fv_options_obj;if(pi_pathobject.path!=""){if(pi_pathobject.objecttype=="0"){fv_coord_list=pi_pathobject.path;fv_coords=fv_coord_list.split(";");for(var i=0;i<fv_coords.length;i++){fv_coord=fv_coords[i].split(",");fv_allCoordinates.push(new google.maps.LatLng(fv_coord[0],fv_coord[1]));}fv_options_obj=new Object();if(pi_pathobject.geodesic=="1"){fv_options_obj.geodesic=true;}else{fv_options_obj.geodesic=false;}fv_options_obj.strokeColor=pi_pathobject.color;fv_options_obj.strokeOpacity=parseFloat(pi_pathobject.opacity);fv_options_obj.strokeWeight=parseFloat(pi_pathobject.weight);fv_options_obj.path=fv_allCoordinates;fv_ajaxPath=new google.maps.Polyline(fv_options_obj);fv_ajaxPath.zhgmPathID=pi_pathobject.id;fv_ajaxPath.zhgmObjectType=pi_pathobject.objecttype;fv_ajaxPath.zhgmInfowinContent="";fv_ajaxPath.zhgmTitle=pi_pathobject.title;if(pi_pathobject.hover_color!=""){fv_ajaxPath.zhgmHoverChangeColor=1;fv_ajaxPath.zhgmStrokeColor=pi_pathobject.color;}else{fv_ajaxPath.zhgmHoverChangeColor=0;}zhgmMapObjectManager.prototype.ep(k,pi_pathobject.markergroup,fv_ajaxPath);fv_ajaxPath_array.push(fv_ajaxPath);zhgmMapObjectManager.prototype.addPathListeners(pi_ajax_type,k,fv_ajaxPath);if(k.R||pi_pathobject.hoverhtml!=""||pi_pathobject.hover_color!=""){zhgmMapObjectManager.prototype.addPathHoverListeners(pi_ajax_type,k,fv_ajaxPath);}}else if(pi_pathobject.objecttype=="1"){fv_coord_list=pi_pathobject.path;fv_coords=fv_coord_list.split(";");for(var i=0;i<fv_coords.length;i++){fv_coord=fv_coords[i].split(",");fv_allCoordinates.push(new google.maps.LatLng(fv_coord[0],fv_coord[1]));}fv_options_obj=new Object();if(pi_pathobject.geodesic=="1"){fv_options_obj.geodesic=true;}else{fv_options_obj.geodesic=false;}fv_options_obj.strokeColor=pi_pathobject.color;fv_options_obj.strokeOpacity=parseFloat(pi_pathobject.opacity);fv_options_obj.strokeWeight=parseFloat(pi_pathobject.weight);fv_options_obj.path=fv_allCoordinates;if(pi_pathobject.fillcolor!=""){fv_options_obj.fillColor=pi_pathobject.fillcolor;}if(pi_pathobject.fillopacity!=""){fv_options_obj.fillOpacity=pi_pathobject.fillopacity;}fv_ajaxPath=new google.maps.Polygon(fv_options_obj);fv_ajaxPath.zhgmPathID=pi_pathobject.id;fv_ajaxPath.zhgmObjectType=pi_pathobject.objecttype;fv_ajaxPath.zhgmInfowinContent="";fv_ajaxPath.zhgmTitle=pi_pathobject.title;if(pi_pathobject.hover_color!=""||pi_pathobject.hover_fillcolor!=""){fv_ajaxPath.zhgmHoverChangeColor=1;fv_ajaxPath.zhgmStrokeColor=pi_pathobject.color;fv_ajaxPath.zhgmFillColor=pi_pathobject.fillcolor;}else{fv_ajaxPath.zhgmHoverChangeColor=0;}zhgmMapObjectManager.prototype.ep(k,pi_pathobject.markergroup,fv_ajaxPath);fv_ajaxPath_array.push(fv_ajaxPath);zhgmMapObjectManager.prototype.addPathListeners(pi_ajax_type,k,fv_ajaxPath);if(k.R||pi_pathobject.hoverhtml!=""||pi_pathobject.hover_color!=""){zhgmMapObjectManager.prototype.addPathHoverListeners(pi_ajax_type,k,fv_ajaxPath);}}else if(pi_pathobject.objecttype=="2"){fv_coord_list=pi_pathobject.path;fv_coords=fv_coord_list.split(";");for(var i=0;i<fv_coords.length;i++){fv_coord=fv_coords[i].split(",");fv_options_obj=new Object();fv_options_obj.radius=parseFloat(pi_pathobject.radius);fv_options_obj.strokeColor=pi_pathobject.color;fv_options_obj.strokeOpacity=parseFloat(pi_pathobject.opacity);fv_options_obj.strokeWeight=parseFloat(pi_pathobject.weight);fv_options_obj.center=new google.maps.LatLng(fv_coord[0],fv_coord[1]);if(pi_pathobject.fillcolor!=""){fv_options_obj.fillColor=pi_pathobject.fillcolor;}if(pi_pathobject.fillopacity!=""){fv_options_obj.fillOpacity=pi_pathobject.fillopacity;}fv_ajaxPath=new google.maps.Circle(fv_options_obj);fv_ajaxPath.zhgmPathID=pi_pathobject.id;fv_ajaxPath.zhgmObjectType=pi_pathobject.objecttype;fv_ajaxPath.zhgmInfowinContent="";fv_ajaxPath.zhgmTitle=pi_pathobject.title;if(pi_pathobject.hover_color!=""||pi_pathobject.hover_fillcolor!=""){fv_ajaxPath.zhgmHoverChangeColor=1;fv_ajaxPath.zhgmStrokeColor=pi_pathobject.color;fv_ajaxPath.zhgmFillColor=pi_pathobject.fillcolor;}else{fv_ajaxPath.zhgmHoverChangeColor=0;}zhgmMapObjectManager.prototype.ep(k,pi_pathobject.markergroup,fv_ajaxPath);fv_ajaxPath_array.push(fv_ajaxPath);zhgmMapObjectManager.prototype.addPathListeners(pi_ajax_type,k,fv_ajaxPath);if(k.R||pi_pathobject.hoverhtml!=""||pi_pathobject.hover_color!=""){zhgmMapObjectManager.prototype.addPathHoverListeners(pi_ajax_type,k,fv_ajaxPath);}}}else{}}return fv_ajaxPath_array;};zhgmMapObjectManager.prototype.ip=function(pi_ajax_type,l,pi_pathobject){var k=l;var fv_ajaxPath;var fv_ajaxPath_array=[];var fv_options_obj;if(pi_pathobject.kmllayer!=""){fv_options_obj=new Object();if(pi_pathobject.showtype=="0"){fv_options_obj.preserveViewport=false;}else if(pi_pathobject.showtype=="1"){fv_options_obj.preserveViewport=true;}else{fv_options_obj.preserveViewport=false;}if(pi_pathobject.suppressinfowindows=="1"){fv_options_obj.suppressInfoWindows=true;}else{fv_options_obj.suppressInfoWindows=false;}fv_ajaxPath=new google.maps.KmlLayer(pi_pathobject.kmllayer,fv_options_obj);zhgmMapObjectManager.prototype.dh(k,pi_pathobject.markergroup,fv_ajaxPath);fv_ajaxPath_array.push(fv_ajaxPath);}return fv_ajaxPath_array;};zhgmMapObjectManager.prototype.iO=function(pi_ajax_type,l,pi_pathobject){var k=l;var fv_ajaxPath;var fv_ajaxPath_array=[];var fv_options_obj;var fv_position_obj;var fv_coord=[];if(pi_pathobject.imgurl!=""&&pi_pathobject.imgbounds!=""){fv_coord=pi_pathobject.imgbounds.split(";");if(fv_coord.length==4){fv_position_obj=new google.maps.LatLngBounds(new google.maps.LatLng(fv_coord[0],fv_coord[1]),new google.maps.LatLng(fv_coord[2],fv_coord[3]));fv_options_obj=new Object();if(pi_pathobject.imgopacity!=""){fv_options_obj.opacity=parseFloat(pi_pathobject.imgopacity);}else{fv_options_obj.opacity=1;}if(pi_pathobject.imgclickable=="1"){fv_options_obj.clickable=true;}else{fv_options_obj.clickable=false;}fv_ajaxPath=new google.maps.GroundOverlay(pi_pathobject.imgurl,fv_position_obj,fv_options_obj);fv_ajaxPath.zhgmPathID=pi_pathobject.id;fv_ajaxPath.zhgmInfowinContent="";fv_ajaxPath.zhgmTitle=pi_pathobject.title;zhgmMapObjectManager.prototype.iV(k,pi_pathobject.imgopacitymanage,fv_ajaxPath);zhgmMapObjectManager.prototype.addPathListeners(pi_ajax_type,k,fv_ajaxPath);fv_ajaxPath_array.push(fv_ajaxPath);}}return fv_ajaxPath_array;};zhgmMapObjectManager.prototype.PathAddListeners=function(pi_ajax_type,pi_pathobject){var k=this;k.addPathListeners(pi_ajax_type,k,pi_pathobject);};zhgmMapObjectManager.prototype.addPathListeners=function(pi_ajax_type,l,pi_ajaxPath){pi_ajaxPath.zhgmPathConfigLoaded=0;google.maps.event.addListener(pi_ajaxPath,'click',function(event){var k=l;var fv_url=k.bV+'index.php?option=com_zhgooglemap&no_html=1&format=raw&task=getPathDetails';var av={id:this.zhgmPathID,iconicon:k.bB,iconutil:k.bO,icondir:k.bF,articleid:k.hY,placemarktitletag:k.fq,language:k.hm,panelinfowin:k.eH};var fv_markerObject=this;if(pi_ajaxPath.zhgmPathConfigLoaded=="1"){zhgmMapObjectManager.prototype.ff_ShowPathInformation_Reuse(k,pi_ajaxPath,event.latLng);}else{if(pi_ajax_type=='mootools'){var fv_request=new Request({url:fv_url,method:'post',data:av,async:true,onSuccess:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=JSON.decode(responseText);zhgmMapObjectManager.prototype.ff_ShowPathInformation(k,fv_responseObject,pi_ajaxPath,event.latLng);},onRequest:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},onFailure:function(xhr){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert(xhr.status+','+xhr.statusText+','+xhr.responseText);}}).send();}else if(pi_ajax_type=='jquery'){var ae=k.aj;ae.ajax({url:fv_url,type:'post',data:av,dataType:'json',async:true,success:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=responseText;zhgmMapObjectManager.prototype.ff_ShowPathInformation(k,fv_responseObject,pi_ajaxPath,event.latLng);},beforeSend:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},fail:function(xhr,textStatus){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert("Error"+textStatus);}});}}});};zhgmMapObjectManager.prototype.enableClosePopupOnClick=function(){var k=this;k.addMapPopupListener(k);};zhgmMapObjectManager.prototype.addMapPopupListener=function(l){var k=l;var ak=k.map;google.maps.event.addListener(ak,'click',function(event){var k=l;var ad=k.bG;var ak=k.map;ad.close();for(var i=0;i<k.h.length;i++){k.h[i].close();}});};zhgmMapObjectManager.prototype.PathAddHoverListeners=function(pi_ajax_type,pi_pathobject){var k=this;zhgmMapObjectManager.prototype.addPathHoverListeners(pi_ajax_type,k,pi_pathobject);};zhgmMapObjectManager.prototype.addPathHoverListeners=function(pi_ajax_type,l,pi_ajaxPath){pi_ajaxPath.zhgmPathHoverConfigLoaded=0;google.maps.event.addListener(pi_ajaxPath,'mouseover',function(event){var k=l;var fv_url=k.bV+'index.php?option=com_zhgooglemap&no_html=1&format=raw&task=getPathHoverText';var av={id:this.zhgmPathID};var fv_pathObject=this;if(pi_ajaxPath.zhgmPathHoverConfigLoaded=="1"){zhgmMapObjectManager.prototype.ff_ShowPathHoverText_Reuse(k,pi_ajaxPath,event);}else{if(pi_ajax_type=='mootools'){var fv_request=new Request({url:fv_url,method:'post',data:av,async:true,onSuccess:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=JSON.decode(responseText);zhgmMapObjectManager.prototype.ff_ShowPathHoverText(k,fv_responseObject,pi_ajaxPath,event);},onRequest:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},onFailure:function(xhr){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert(xhr.status+','+xhr.statusText+','+xhr.responseText);}}).send();}else if(pi_ajax_type=='jquery'){var ae=k.aj;ae.ajax({url:fv_url,type:'post',data:av,dataType:'json',async:true,success:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=responseText;zhgmMapObjectManager.prototype.ff_ShowPathHoverText(k,fv_responseObject,pi_ajaxPath,event);},beforeSend:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},fail:function(xhr,textStatus){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert("Error"+textStatus);}});}}});google.maps.event.addListener(pi_ajaxPath,'mouseout',function(event){var k=l;var fv_options_obj;if(k.R!="0"){if(k.R=="1"){k.C.close();}else if(k.R=="2"){k.J.close();}}if(pi_ajaxPath.zhgmHoverChangeColor=="1"){fv_options_obj=new Object();if(pi_ajaxPath.zhgmObjectType=="0"){if(pi_ajaxPath.zhgmStrokeColor!=""){fv_options_obj.strokeColor=pi_ajaxPath.zhgmStrokeColor;}}else if(pi_ajaxPath.zhgmObjectType=="1"||pi_ajaxPath.zhgmObjectType=="2"){if(pi_ajaxPath.zhgmStrokeColor!=""){fv_options_obj.strokeColor=pi_ajaxPath.zhgmStrokeColor;}if(pi_ajaxPath.zhgmFillColor!=""){fv_options_obj.fillColor=pi_ajaxPath.zhgmFillColor;}}pi_ajaxPath.setOptions(fv_options_obj);}});};zhgmMapObjectManager.prototype.ff_ShowPlacemarkHoverText=function(l,H,bD){if(H.dataexists==1){var k=l;var ad=k.bG;var ak=k.map;ad.close();for(var i=0;i<k.h.length;i++){k.h[i].close();}var fv_hoverstring="";bD.zhgmPlacemark_hoverstring=fv_hoverstring;if(k.R!="0"){fv_hoverstring=eval(H.hoverstring);bD.zhgmPlacemark_hoverstring=fv_hoverstring;if(k.R=="1"){k.C.close();k.C.setContent(fv_hoverstring);k.C.setPosition(bD.getPosition());var fM=Hover_Anchor("placemark",bD,null);k.C.open(ak,fM);}else if(k.R=="2"){k.J.close();k.J.setContent(fv_hoverstring);k.J.setPosition(bD.getPosition());var fM=Hover_Anchor("placemark",bD,null);k.J.open(ak,fM);}}bD.zhgmPlacemarkHoverConfigLoaded=1;}else{}};zhgmMapObjectManager.prototype.ff_ShowPlacemarkHoverText_Reuse=function(l,bD){var k=l;var ad=k.bG;var ak=k.map;ad.close();for(var i=0;i<k.h.length;i++){k.h[i].close();}var fv_hoverstring="";if(k.R!="0"){fv_hoverstring=bD.zhgmPlacemark_hoverstring;if(fv_hoverstring!=""){if(k.R=="1"){k.C.close();k.C.setContent(fv_hoverstring);k.C.setPosition(bD.getPosition());var fM=Hover_Anchor("placemark",bD,null);k.C.open(ak,fM);}else if(k.R=="2"){k.J.close();k.J.setContent(fv_hoverstring);k.J.setPosition(bD.getPosition());var fM=Hover_Anchor("placemark",bD,null);k.J.open(ak,fM);}}}};zhgmMapObjectManager.prototype.ff_ShowPathHoverText=function(l,H,pi_pathObject,ce){if(H.dataexists==1){var k=l;var ad=k.bG;var ak=k.map;var fv_options_obj;ad.close();for(var i=0;i<k.h.length;i++){k.h[i].close();}var fv_hoverstring="";pi_pathObject.zhgmPath_hoverstring=fv_hoverstring;if(k.R!="0"){if(H.hoverstring!=""){fv_hoverstring=eval(H.hoverstring);pi_pathObject.zhgmPath_hoverstring=fv_hoverstring;if(k.R=="1"){k.C.close();k.C.setContent(fv_hoverstring);k.C.setPosition(ce.latLng);var fM=Hover_Anchor("path",pi_pathObject,ce);k.C.open(ak,fM);}else if(k.R=="2"){k.J.close();k.J.setContent(fv_hoverstring);k.J.setPosition(ce.latLng);var fM=Hover_Anchor("path",pi_pathObject,ce);k.J.open(ak,fM);}}}pi_pathObject.zhgmPath_objecttype=H.objecttype;pi_pathObject.zhgmPath_hover_color="";pi_pathObject.zhgmPath_hover_fillcolor="";fv_options_obj=new Object();if(H.objecttype=="0"){if(H.hover_color!=""){fv_options_obj.strokeColor=H.hover_color;pi_pathObject.zhgmPath_hover_color=H.hover_color;}}else if(H.objecttype=="1"||H.objecttype=="2"){if(H.hover_color!=""){fv_options_obj.strokeColor=H.hover_color;pi_pathObject.zhgmPath_hover_color=H.hover_color;}if(H.hover_fillcolor!=""){fv_options_obj.fillColor=H.hover_fillcolor;pi_pathObject.zhgmPath_hover_fillcolor=H.hover_fillcolor;}}pi_pathObject.setOptions(fv_options_obj);pi_pathObject.zhgmPathHoverConfigLoaded=1;}else{}};zhgmMapObjectManager.prototype.ff_ShowPathHoverText_Reuse=function(l,pi_pathObject,ce){var k=l;var ad=k.bG;var ak=k.map;var fv_options_obj;ad.close();for(var i=0;i<k.h.length;i++){k.h[i].close();}var fv_hoverstring="";if(k.R!="0"){fv_hoverstring=pi_pathObject.zhgmPath_hoverstring;if(fv_hoverstring!=""){if(k.R=="1"){k.C.close();k.C.setContent(fv_hoverstring);k.C.setPosition(ce.latLng);var fM=Hover_Anchor("path",pi_pathObject,ce);k.C.open(ak,fM);}else if(k.R=="2"){k.J.close();k.J.setContent(fv_hoverstring);k.J.setPosition(ce.latLng);var fM=Hover_Anchor("path",pi_pathObject,ce);k.J.open(ak,fM);}}}fv_options_obj=new Object();if(pi_pathObject.zhgmPath_objecttype=="0"){if(pi_pathObject.zhgmPath_hover_color!=""){fv_options_obj.strokeColor=pi_pathObject.zhgmPath_hover_color;}}else if(pi_pathObject.zhgmPath_objecttype=="1"||pi_pathObject.zhgmPath_objecttype=="2"){if(pi_pathObject.zhgmPath_hover_color!=""){fv_options_obj.strokeColor=pi_pathObject.zhgmPath_hover_color;}if(pi_pathObject.zhgmPath_hover_fillcolor!=""){fv_options_obj.fillColor=pi_pathObject.zhgmPath_hover_fillcolor;}}pi_pathObject.setOptions(fv_options_obj);};zhgmMapObjectManager.prototype.GroupStateDefine=function(L,pi_state){this.G[L]=pi_state;};zhgmMapObjectManager.prototype.dE=function(L,pi_path_array){var ai=pi_path_array;var fv_current_Path;var aU;if((typeof ai!=='undefined')&&(ai!=null)){if(this.az&&this.aZ){aU=this.G[L];if((typeof aU!=='undefined')&&(aU==1)){for(var ag=0;ag<ai.length;ag++){fv_current_Path=ai[ag];fv_current_Path.setMap(this.map);}}}else{for(var ag=0;ag<ai.length;ag++){fv_current_Path=ai[ag];fv_current_Path.setMap(this.map);}}}};zhgmMapObjectManager.prototype.cn=function(L,pi_path_array){var ai=pi_path_array;var fv_current_Path;var aU;if((typeof ai!=='undefined')&&(ai!=null)){if(this.az&&this.aZ){aU=this.G[L];if((typeof aU==='undefined')||(aU==0)){for(var ag=0;ag<ai.length;ag++){fv_current_Path=ai[ag];fv_current_Path.setMap(null);}}}else{for(var ag=0;ag<ai.length;ag++){fv_current_Path=ai[ag];fv_current_Path.setMap(null);}}}};zhgmMapObjectManager.prototype.eb=function(L,pi_path_array){var ai=pi_path_array;var fv_current_Path;var aU;if((typeof ai!=='undefined')&&(ai!=null)){if(this.az&&this.eB){aU=this.G[L];if((typeof aU!=='undefined')&&(aU==1)){for(var ag=0;ag<ai.length;ag++){fv_current_Path=ai[ag];fv_current_Path.setMap(this.map);}}}else{for(var ag=0;ag<ai.length;ag++){fv_current_Path=ai[ag];fv_current_Path.setMap(this.map);}}}};zhgmMapObjectManager.prototype.fh=function(L,pi_path_array){var ai=pi_path_array;var fv_current_Path;var aU;if((typeof ai!=='undefined')&&(ai!=null)){if(this.az&&this.eB){aU=this.G[L];if((typeof aU==='undefined')||(aU==0)){for(var ag=0;ag<ai.length;ag++){fv_current_Path=ai[ag];fv_current_Path.setMap(null);}}}else{for(var ag=0;ag<ai.length;ag++){fv_current_Path=ai[ag];fv_current_Path.setMap(null);}}}};zhgmMapObjectManager.prototype.GroupStateToggle=function(L){if(this.az){if(this.ie=="OnlyOneActive"){this.GroupStateHideAll();var aU=this.G[L];if((typeof aU==='undefined')||(aU==0)){this.GroupStateShow(L);}else{this.GroupStateHide(L);}}else{var aU=this.G[L];if((typeof aU==='undefined')||(aU==0)){this.GroupStateShow(L);}else{this.GroupStateHide(L);}}}};zhgmMapObjectManager.prototype.GroupStateShow=function(L){var F;if(this.az){var aU=this.G[L];if((typeof aU==='undefined')||(aU==0)){this.G[L]=1;if(this.bI){F=this.bL[L];if(typeof F!=='undefined'){this.ab(L,F);}}if(this.aZ){F=this.bE[L];if(typeof F!=='undefined'){this.dE(L,F);}}if(this.eB){F=this.dS[L];if(typeof F!=='undefined'){this.eb(L,F);}}if(this.jD==1){var fM=this.fF+L;var fv_link=document.getElementById(fM);ez(fv_link,"active");}else if(this.jD==2){var ae=this.aj;var fM="#"+this.fF+L;var gN=ae(fM).hasClass("active");if(!gN){ae(fM).addClass("active");}}else{var fM=this.fF+L;var fv_link=document.getElementById(fM);fv_link.addClass("active");}}}};zhgmMapObjectManager.prototype.GroupStateHide=function(L){var F;if(this.az){var aU=this.G[L];if((typeof aU!=='undefined')&&(aU==1)){this.G[L]=0;if(this.bI){F=this.bL[L];if(typeof F!=='undefined'){this.aN(L,F);}}if(this.aZ){F=this.bE[L];if(typeof F!=='undefined'){this.cn(L,F);}}if(this.eB){F=this.dS[L];if(typeof F!=='undefined'){this.fh(L,F);}}if(this.jD==1){var fM=this.fF+L;var fv_link=document.getElementById(fM);eI(fv_link,"active");}else if(this.jD==2){var ae=this.aj;var fM="#"+this.fF+L;var gN=ae(fM).hasClass("active");if(gN){ae(fM).removeClass("active");}}else{var fM=this.fF+L;var fv_link=document.getElementById(fM);fv_link.removeClass("active");}}}};zhgmMapObjectManager.prototype.GroupStateShowAll=function(){var bv;if(this.az){for(var i=1;i<this.G.length;i++){bv=this.G[i];if(typeof bv!=='undefined'){this.GroupStateShow(i);}}}};zhgmMapObjectManager.prototype.GroupStateHideAll=function(){var bv;if(this.az){for(var i=1;i<this.G.length;i++){bv=this.G[i];if(typeof bv!=='undefined'){this.GroupStateHide(i);}}}};zhgmMapObjectManager.prototype.InitializeByGroupState=function(){var bv;var F;for(var i=0;i<this.G.length;i++){bv=this.G[i];if(typeof bv!=='undefined'){if(this.az){if(this.bI){if(bv==1){F=this.bL[i];if(typeof F!=='undefined'){this.ab(i,F);}}else{F=this.bL[i];if(typeof F!=='undefined'){this.aN(i,F);}}}else{F=this.bL[i];if(typeof F!=='undefined'){this.ab(i,F);}}}else{F=this.bL[i];if(typeof F!=='undefined'){this.ab(i,F);}}if(this.az){if(this.aZ){if(bv==1){F=this.bE[i];if(typeof F!=='undefined'){this.dE(i,F);}}else{F=this.bE[i];if(typeof F!=='undefined'){this.cn(i,F);}}}else{F=this.bE[i];if(typeof F!=='undefined'){this.dE(i,F);}}}else{F=this.bE[i];if(typeof F!=='undefined'){this.dE(i,F);}}if(this.az){if(this.eB){if(bv==1){F=this.dS[i];if(typeof F!=='undefined'){this.eb(i,F);}}else{F=this.dS[i];if(typeof F!=='undefined'){this.fh(i,F);}}}else{F=this.dS[i];if(typeof F!=='undefined'){this.eb(i,F);}}}else{F=this.dS[i];if(typeof F!=='undefined'){this.eb(i,F);}}}}this.iz();};zhgmMapObjectManager.prototype.PlacemarkRateMouseOver=function(cq,pi_idx,pi_max){var k=this;var fv_cur_star;for(var i=1;i<=pi_idx;i++){fv_cur_star=document.getElementById("placemarkRateImage"+cq+"_"+i);fv_cur_star.src=k.bO+"star1_10.png";}for(var i=pi_idx+1;i<=pi_max;i++){fv_cur_star=document.getElementById("placemarkRateImage"+cq+"_"+i);fv_cur_star.src=k.bO+"star1_00.png";}};zhgmMapObjectManager.prototype.PlacemarkRateMouseOut=function(cq,pi_idx,pi_max){var k=this;var fv_cur_star;for(var i=1;i<=pi_max;i++){fv_cur_star=document.getElementById("placemarkRateImage"+cq+"_"+i);fv_cur_star.src=k.bO+"star1_00.png";}};zhgmMapObjectManager.prototype.PlacemarkRateDivMouseOut=function(cq,pi_max){var k=this;zhgmMapObjectManager.prototype.PlacemarkRateDivShowRate(k,cq,pi_max);};zhgmMapObjectManager.prototype.PlacemarkRateDivShowRate=function(l,cq,pi_max){var k=l;var fv_val_cnt_max=pi_max;if(k.bN[cq]===undefined){alert("Unable to find placemark with ID = "+cq);}else{var cP=k.bN[cq];var fv_val_main=cP.zhgmRating;var fv_val_int=Math.floor(fv_val_main);var fv_val_cnt;var fv_cur_star;if(fv_val_main>fv_val_cnt_max){fv_val_main=fv_val_cnt_max;fv_val_int=fv_val_cnt_max;}fv_val_cnt=0;if(fv_val_main==0){fv_val_cnt++;fv_cur_star=document.getElementById("placemarkRateImage"+cq+"_"+fv_val_cnt);fv_cur_star.src=k.bO+"star0_00.png";}else if(fv_val_int==0&&fv_val_main>0){fv_val_cnt++;fv_cur_star=document.getElementById("placemarkRateImage"+cq+"_"+fv_val_cnt);fv_cur_star.src=k.bO+"star0_05.png";}else{for(var i=0;i<fv_val_int;i++){fv_val_cnt++;fv_cur_star=document.getElementById("placemarkRateImage"+cq+"_"+fv_val_cnt);fv_cur_star.src=k.bO+"star0_10.png";}if(Math.ceil((fv_val_main-fv_val_int)*10)>4){fv_val_cnt++;fv_cur_star=document.getElementById("placemarkRateImage"+cq+"_"+fv_val_cnt);fv_cur_star.src=k.bO+"star0_05.png";}}for(var i=fv_val_cnt;i<fv_val_cnt_max;i++){fv_cur_star=document.getElementById("placemarkRateImage"+cq+"_"+(i+1));fv_cur_star.src=k.bO+"star0_00.png";}}};zhgmMapObjectManager.prototype.PlacemarkRateDivText=function(l,cq,pi_text){var k=l;if(k.bN[cq]===undefined){alert("Unable to find placemark with ID = "+cq);}else{var fv_cur_text=document.getElementById("rateContentResult"+cq);fv_cur_text.innerHTML=pi_text;}};zhgmMapObjectManager.prototype.PlacemarkRateUpdate=function(pi_ajax_type,cq,cL,pi_max,pi_lang){var k=this;if(k.bN[cq]===undefined){alert("Unable to find placemark with ID = "+cq);}else{var fv_url=k.bV+'index.php?option=com_zhgooglemap&no_html=1&format=raw&task=setPlacemarkRating';var av={id:cq,rating:cL,language:pi_lang};if(pi_ajax_type=='mootools'){var fv_request=new Request({url:fv_url,method:'post',data:av,async:true,onSuccess:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=JSON.decode(responseText);zhgmMapObjectManager.prototype.ff_ShowPlacemarkRateText(k,fv_responseObject,cq,pi_max);},onRequest:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},onFailure:function(xhr){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert(xhr.status+','+xhr.statusText+','+xhr.responseText);}}).send();}else if(pi_ajax_type=='jquery'){var ae=k.aj;ae.ajax({url:fv_url,type:'post',data:av,dataType:'json',async:true,success:function(responseText){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';var fv_responseObject=responseText;zhgmMapObjectManager.prototype.ff_ShowPlacemarkRateText(k,fv_responseObject,cq,pi_max);},beforeSend:function(){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='block';},fail:function(xhr,textStatus){var fv_toShowLoading=document.getElementById("GMapsLoading"+k.hY);fv_toShowLoading.style.display='none';alert("Error"+textStatus);}});}}};zhgmMapObjectManager.prototype.ff_ShowPlacemarkRateText=function(l,H,cq,pi_max){var k=l;if(H.dataexists==1){if(k.bN[cq]===undefined){alert("Unable to find placemark with ID = "+cq);}else{var cP=k.bN[cq];cP.zhgmRating=H.averagerating;zhgmMapObjectManager.prototype.PlacemarkRateDivShowRate(k,cq,pi_max);zhgmMapObjectManager.prototype.PlacemarkRateDivText(k,cq,H.errortext);}}else{zhgmMapObjectManager.prototype.PlacemarkRateDivText(k,cq,H.errortext);}};zhgmMapObjectManager.prototype.setMapBounds=function(pi_lat1,pi_lng1,pi_lat2,pi_lng2){var k=this;var fv_allowedBounds=new google.maps.LatLngBounds(new google.maps.LatLng(pi_lat1,pi_lng1),new google.maps.LatLng(pi_lat2,pi_lng2));k.dj=fv_allowedBounds;google.maps.event.addListener(k.map,'bounds_changed',function(){var fv_allowedBounds=k.dj;var ak=k.map;var dN=ak.getCenter();if(fv_allowedBounds.contains(dN))return;var df=dN.lng(),ds=dN.lat(),aM=fv_allowedBounds.getNorthEast().lng(),bC=fv_allowedBounds.getNorthEast().lat(),bk=fv_allowedBounds.getSouthWest().lng(),ap=fv_allowedBounds.getSouthWest().lat();if(df<bk)df=bk;if(df>aM)df=aM;if(ds<ap)ds=ap;if(ds>bC)ds=bC;ak.setCenter(new google.maps.LatLng(ds,df));});};zhgmMapObjectManager.prototype.enableElevation=function(pi_p1,pi_p2,pi_p3,pi_p5,pi_p6){this.dQ=new google.maps.ElevationService();this.bS=pi_p1;this.dw=pi_p2;this.cA=pi_p3;this.cp=pi_p5;this.dA=pi_p6;};zhgmMapObjectManager.prototype.enablePlaceElevation=function(){var k=this;var ak=k.map;google.maps.event.addListener(ak,'click',function(event){k.ff_getPlaceElevation(k,event);});};zhgmMapObjectManager.prototype.ElevationShowDiagram=function(el_coords,el_count,el_width,el_height,el_icon,el_type,el_baseline,el_baseline_color,el_gridline_color,el_gridline_count,el_minor_gridline_color,el_minor_gridline_count,el_bg_color,el_bg_width,el_bg_fill,el_max_value,el_min_value){var k=this;if(el_count==0){var fv_chartPathRequest={'path':el_coords,'samples':el_width};}else{var fv_chartPathRequest={'path':el_coords,'samples':el_count};}k.dQ.getElevationAlongPath(fv_chartPathRequest,ff_plotChartElevation);function ff_plotChartElevation(results,status){var fv_chart;if(status==google.maps.ElevationStatus.OK){fv_elevations=results;if(el_type==1){var fv_chart=new google.visualization.AreaChart(document.getElementById('GMapsPathPanel'+k.hY));}else if(el_type==2){var fv_chart=new google.visualization.LineChart(document.getElementById('GMapsPathPanel'+k.hY));}else if(el_type==3){var fv_chart=new google.visualization.ColumnChart(document.getElementById('GMapsPathPanel'+k.hY));}else{var fv_chart=new google.visualization.AreaChart(document.getElementById('GMapsPathPanel'+k.hY));}var av=new google.visualization.DataTable();av.addColumn('string','Sample');av.addColumn('number',k.dw);av.addColumn('number','Lat');av.addColumn('number','Lng');for(var i=0;i<fv_elevations.length;i++){av.addRow(['',fv_elevations[i].elevation,fv_elevations[i].location.lat(),fv_elevations[i].location.lng()]);}var fv_formatter_2d=new google.visualization.NumberFormat({fractionDigits:2,decimalSymbol:'.',groupingSymbol:''});fv_formatter_2d.format(av,1);var fv_dataView=new google.visualization.DataView(av);fv_dataView.setColumns([0,1]);document.getElementById('GMapsPathPanel'+k.hY).style.display='block';var fv_chartOptions={width:el_width,height:el_height,legend:'none',backgroundColor:{stroke:el_bg_color,strokeWidth:el_bg_width,fill:el_bg_fill},vAxis:{baseline:el_baseline,baselineColor:el_baseline_color,gridlines:{color:el_gridline_color,count:el_gridline_count},minorGridlines:{color:el_minor_gridline_color,count:el_minor_gridline_count},maxValue:el_max_value,minValue:el_min_value,title:k.bS}};fv_chart.draw(fv_dataView,fv_chartOptions);google.visualization.events.addListener(fv_chart,'select',function(){var ad=k.bG;var ak=k.map;var fv_selectedItem=fv_chart.getSelection()[0];if(fv_selectedItem){var value0=av.getValue(fv_selectedItem.row,1);var valuelat=av.getValue(fv_selectedItem.row,2);var valuelng=av.getValue(fv_selectedItem.row,3);ad.close();var gN=k.cA;gN=gN.replace("%1",value0.toFixed(1));ad.setContent(gN);ad.setPosition(new google.maps.LatLng(valuelat,valuelng));ad.open(ak);}});google.visualization.events.addListener(fv_chart,'onmouseover',function(e){var ak=k.map;var fv_markerElevation=k.cb;if((fv_markerElevation==null)||(fv_markerElevation=='undefined')){fv_markerElevation=new google.maps.Marker({position:fv_elevations[e.row].location,map:ak,icon:k.bB+el_icon});k.cb=fv_markerElevation;}else{fv_markerElevation.setPosition(fv_elevations[e.row].location);fv_markerElevation.setMap(ak);}});google.visualization.events.addListener(fv_chart,'onmouseout',function(e){var fv_markerElevation=k.cb;if(fv_markerElevation!=null){fv_markerElevation.setMap(null);}});}}};zhgmMapObjectManager.prototype.ff_getPlaceElevation=function(l,ce){var k=l;var ad=k.bG;var ak=k.map;var fv_elevator=k.dQ;var fv_locationsElevation=[];var fv_clickedLocationElevation=ce.latLng;fv_locationsElevation.push(fv_clickedLocationElevation);var fv_positionalRequestElevation={'locations':fv_locationsElevation};fv_elevator.getElevationForLocations(fv_positionalRequestElevation,function(results,status){if(status==google.maps.ElevationStatus.OK){if(results[0]){ad.close();var gN=k.cA;gN=gN.replace("%1",results[0].elevation.toFixed(1));ad.setContent(gN);ad.setPosition(fv_clickedLocationElevation);ad.open(ak);}else{alert(k.cp);}}else{alert(k.dA+' '+status);}});};zhgmMapObjectManager.prototype.enablePlacemarkListSearch=function(iM){var k=this;k.gh=1;k.markerlistsearchType=iM;zhgmMapObjectManager.prototype.ff_refreshPlacemarkListSearch(k);};zhgmMapObjectManager.prototype.ff_refreshPlacemarkCenterZoomBounds=function(l){var k=l;var ak=k.map;var fv_map_bounds=k.placemarkCenterZoomBounds;if(k.placemarkCenterZoom){ak.fitBounds(fv_map_bounds);ak.panToBounds(fv_map_bounds);}};zhgmMapObjectManager.prototype.refreshPlacemarkCenterZoomBounds=function(){var k=this;zhgmMapObjectManager.prototype.ff_refreshPlacemarkCenterZoomBounds(k);};zhgmMapObjectManager.prototype.refreshPlacemarkListSearch=function(){var k=this;zhgmMapObjectManager.prototype.ff_refreshPlacemarkListSearch(k);};zhgmMapObjectManager.prototype.ff_refreshPlacemarkListSearch=function(l){var k=l;var ae=k.aj;var fm,bJ,bd;var av=[];var fv_jsonObj;var iM;if(k.gh==1){fm=k.eU;iM=k.markerlistsearchType;for(var i=0;i<fm.length;i++){bJ=fm[i];if((typeof bJ!=='undefined')&&(bJ!=null)){bd=bJ[0];if((typeof bd!=='undefined')&&(bd!=null)){if(bd.zhgmIncludeInList==1){fv_jsonObj=new Object();fv_jsonObj.label=bd.zhgmTitle;fv_jsonObj.value=bd.zhgmPlacemarkID;fv_jsonObj.description=bd.zhgmPlacemarkDescription;av.push(fv_jsonObj);}else{}}}}var jo;var ja;var je;var hO=[];var iu=[];var jA;var iA;var iU;var jg=[];var jl=[];jA=k.markerlistsearchMappingType;iA=k.markerlistsearchAccentSide;if(jA!=0){if(jA!=100){if(jA==1){k.markerlistsearchAccent=iE(jA,"Accent");k.markerlistsearchMapping=iE(jA,"Mapping");;}else if(jA==2){iA=0;k.markerlistsearchAccent=iE(jA,"Accent");k.markerlistsearchMapping=iE(jA,"Mapping");;}}if(k.markerlistsearchAccent!=""){iU=k.markerlistsearchAccent;iU=iU.replace(/;;/g,";\n");iU=iU.replace(/QQ/g,"\"");jg=iU.split(";");for(var jw=0;jw<jg.length;jw++){if((typeof jg[jw]!=='undefined')&&jg[jw]!=null&&jg[jw]!=""){iU=jg[jw];iU=iU.replace("\n",";");iU=iU.replace("::","\n:");jl=iU.split(":");if((typeof jl[0]!=='undefined')&&(jl[0]!=null)&&(jl[0]!="")&&(typeof jl[1]!=='undefined')&&(jl[1]!=null)&&(jl[1]!="")){jl[0]=jl[0].replace("\n",":");if(typeof jo==='undefined'){jo=new Object();}jo[jl[0]]=jl[1];}else{alert("Wrong synonym definition \""+jg[jw]+"\" at pair position "+(jw+1));}}else{alert("Empty synonym definition at pair position "+(jw+1));}}}if(k.markerlistsearchMapping!=""){je=k.markerlistsearchMapping;je=je.replace(/;;/g,";\n");je=je.replace(/QQ/g,"\"");hO=je.split(";");for(var jw=0;jw<hO.length;jw++){if((typeof hO[jw]!=='undefined')&&hO[jw]!=null&&hO[jw]!=""){je=hO[jw];je=je.replace("\n",";");je=je.replace("::","\n:");iu=je.split(":");if((typeof iu[0]!=='undefined')&&(iu[0]!=null)&&(iu[0]!="")&&(typeof iu[1]!=='undefined')&&(iu[1]!=null)&&(iu[1]!="")){iu[0]=iu[0].replace("\n",":");if(typeof ja==='undefined'){ja=new Object();}ja[iu[0]]=iu[1];}else{alert("Wrong mapping definition \""+hO[jw]+"\" at pair position "+(jw+1));}}else{alert("Empty mapping definition at pair position "+(jw+1));}}}}function ZhGMLightwellPlacemarkList(request,response){var jw,hT,cP,hL=[];if(request.term===""){response([]);return;}for(jw=0,hT=av.length;jw<hT;jw++){cP=av[jw];if(iM==0){if(jm(jA,iA,ja,jo,request.term,cP.label)){hL.push(cP);}}else if(iM==1){if(jm(jA,iA,ja,jo,request.term,cP.label)||jm(jA,iA,ja,jo,request.term,cP.description)){hL.push(cP);}}else{if(jm(jA,iA,ja,jo,request.term,cP.label)){hL.push(cP);}}}response(hL);};ae("#GMapsMarkerListSearchAutocomplete"+k.hY).autocomplete({source:ZhGMLightwellPlacemarkList,focus:function(event,ui){if((typeof ui.item!=='undefined')&&(ui.item!=null)){ae("#GMapsMarkerListSearchAutocomplete"+k.hY).val(ui.item.label);}return false;},select:function(event,ui){if((typeof ui.item!=='undefined')&&(ui.item!=null)){var fu="zhgm_pmlist_item_"+k.hY+"_"+ui.item.value;var eG=document.getElementById(fu);if(typeof eG.onclick=="function"){eG.onclick.apply(eG);}else{}ae("#GMapsMarkerListSearchAutocomplete"+k.hY).val(ui.item.label);}return false;}});}};zhgmMapObjectManager.prototype.enableGroupListSearch=function(iM){var k=this;k.iX=1;k.grouplistsearchType=iM;zhgmMapObjectManager.prototype.gc(k);};zhgmMapObjectManager.prototype.gc=function(l){var k=l;var ae=k.aj;var hv,gI;var av=[];var gY;var iM;if(k.iX==1){hv=k.fX;iM=k.grouplistsearchType;for(var i=0;i<hv.length;i++){gI=hv[i];if((typeof gI!=='undefined')&&(gI!=null)){gY=new Object();gY.label=gI.title;gY.value=gI.id;gY.description=gI.description;av.push(gY);}}var jo;var ja;var je;var hO=[];var iu=[];var jA;var iA;var iU;var jg=[];var jl=[];jA=k.grouplistsearchMappingType;iA=k.grouplistsearchAccentSide;if(jA!=0){if(jA!=100){if(jA==1){k.grouplistsearchAccent=iE(jA,"Accent");k.grouplistsearchMapping=iE(jA,"Mapping");;}else if(jA==2){iA=0;k.grouplistsearchAccent=iE(jA,"Accent");k.grouplistsearchMapping=iE(jA,"Mapping");;}}if(k.grouplistsearchAccent!=""){iU=k.grouplistsearchAccent;iU=iU.replace(/;;/g,";\n");iU=iU.replace(/QQ/g,"\"");jg=iU.split(";");for(var jw=0;jw<jg.length;jw++){if((typeof jg[jw]!=='undefined')&&jg[jw]!=null&&jg[jw]!=""){iU=jg[jw];iU=iU.replace("\n",";");iU=iU.replace("::","\n:");jl=iU.split(":");if((typeof jl[0]!=='undefined')&&(jl[0]!=null)&&(jl[0]!="")&&(typeof jl[1]!=='undefined')&&(jl[1]!=null)&&(jl[1]!="")){jl[0]=jl[0].replace("\n",":");if(typeof jo==='undefined'){jo=new Object();}jo[jl[0]]=jl[1];}else{alert("Wrong synonym definition \""+jg[jw]+"\" at pair position "+(jw+1));}}else{alert("Empty synonym definition at pair position "+(jw+1));}}}if(k.grouplistsearchMapping!=""){je=k.grouplistsearchMapping;je=je.replace(/;;/g,";\n");je=je.replace(/QQ/g,"\"");hO=je.split(";");for(var jw=0;jw<hO.length;jw++){if((typeof hO[jw]!=='undefined')&&hO[jw]!=null&&hO[jw]!=""){je=hO[jw];je=je.replace("\n",";");je=je.replace("::","\n:");iu=je.split(":");if((typeof iu[0]!=='undefined')&&(iu[0]!=null)&&(iu[0]!="")&&(typeof iu[1]!=='undefined')&&(iu[1]!=null)&&(iu[1]!="")){iu[0]=iu[0].replace("\n",":");if(typeof ja==='undefined'){ja=new Object();}ja[iu[0]]=iu[1];}else{alert("Wrong mapping definition \""+hO[jw]+"\" at pair position "+(jw+1));}}else{alert("Empty mapping definition at pair position "+(jw+1));}}}}function ZhGMLightwellGroupList(request,response){var jw,hT,cP,hL=[];if(request.term===""){response([]);return;}for(jw=0,hT=av.length;jw<hT;jw++){cP=av[jw];if(iM==0){if(jm(jA,iA,ja,jo,request.term,cP.label)){hL.push(cP);}}else if(iM==1){if(jm(jA,iA,ja,jo,request.term,cP.label)||jm(jA,iA,ja,jo,request.term,cP.description)){hL.push(cP);}}else{if(jm(jA,iA,ja,jo,request.term,cP.label)){hL.push(cP);}}}response(hL);};ae("#GMapsGroupListSearchAutocomplete"+k.hY).autocomplete({source:ZhGMLightwellGroupList,focus:function(event,ui){if((typeof ui.item!=='undefined')&&(ui.item!=null)){ae("#GMapsGroupListSearchAutocomplete"+k.hY).val(ui.item.label);}return false;},select:function(event,ui){if((typeof ui.item!=='undefined')&&(ui.item!=null)){var fu="a-markergroup"+k.hY+"_"+ui.item.value;var eG=document.getElementById(fu);if(typeof eG.onclick=="function"){eG.onclick.apply(eG);}else{}ae("#GMapsGroupListSearchAutocomplete"+k.hY).val(ui.item.label);}return false;}});}};zhgmMapObjectManager.prototype.enablePanel=function(){var k=this;var ae=k.aj;ae(function(){var fL=ae("#GMapsPanel"+k.hY).tabs();fL.find(".ui-tabs-nav").sortable({axis:"x",stop:function(){fL.tabs("refresh");}});ae("#GMapsPanel"+k.hY).height(function(){return ae("#GMapsMainPanel"+k.hY).height()-ae("#GMapsMainPanel"+k.hY+" #GMapsPanel"+k.hY+" ul.ui-tabs-nav").outerHeight(true)-(ae("#GMapsPanel"+k.hY).outerHeight(true)-ae("#GMapsPanel"+k.hY).height())-k.gz});var fo=ae("#GMapsPanel"+k.hY+" div.ui-tabs-panel").outerHeight(true);ae("#GMapsPanel"+k.hY+" div.ui-tabs-panel").height(function(){return ae("#GMapsPanel"+k.hY).height()-ae("#GMapsMainPanel"+k.hY+" #GMapsPanel"+k.hY+" ul.ui-tabs-nav").outerHeight(true)-(fo*2.2)});});};zhgmMapObjectManager.prototype.panelShowPlacemarkContent=function(t){var k=this;var ae=k.aj;ae(function(){var fL=ae("#GMapsPanel"+k.hY+"tabs-1").html(t);var bv=ae("#GMapsPanel"+k.hY+' a[href="#GMapsPanel'+k.hY+'tabs-1"]').parent().index();fL=ae("#GMapsPanel"+k.hY).tabs("option","active",bv);var gN=ae("#GMapsID"+k.hY+' div.zhgm-panel-button'+k.eh+'-star').hasClass("active");if(!gN){ae("#GMapsID"+k.hY+' div.zhgm-panel-button-ui'+k.eh+'-star').trigger("click");}});};zhgmMapObjectManager.prototype.panelShowPathContent=function(t){var k=this;var ae=k.aj;ae(function(){var fL=ae("#GMapsPanel"+k.hY+"tabs-1").html(t);var bv=ae("#GMapsPanel"+k.hY+' a[href="#GMapsPanel'+k.hY+'tabs-1"]').parent().index();fL=ae("#GMapsPanel"+k.hY).tabs("option","active",bv);var gN=ae("#GMapsID"+k.hY+' div.zhgm-panel-button'+k.eh+'-star').hasClass("active");if(!gN){ae("#GMapsID"+k.hY+' div.zhgm-panel-button-ui'+k.eh+'-star').trigger("click");}});};zhgmMapObjectManager.prototype.panelShowPlacemarkContentTabs=function(t){var k=this;var ae=k.aj;ae(function(){var fL=ae("#GMapsPanel"+k.hY+"tabs-1").html(t);ae(function(){ae("#GMapsPanelAccordion"+k.hY).accordion({collapsible:true});});var bv=ae("#GMapsPanel"+k.hY+' a[href="#GMapsPanel'+k.hY+'tabs-1"]').parent().index();fL=ae("#GMapsPanel"+k.hY).tabs("option","active",bv);var gN=ae("#GMapsID"+k.hY+' div.zhgm-panel-button'+k.eh+'-star').hasClass("active");if(!gN){ae("#GMapsID"+k.hY+' div.zhgm-panel-button-ui'+k.eh+'-star').trigger("click");}});};zhgmMapObjectManager.prototype.panelPlacemarkShowPanorama=function(aT,aP,dz){var k=this;var ae=k.aj;var ad=k.bG;var fb=ad.zhgmPlacemarkOriginalPosition;var bA="";if(aT=="0"){bA+='<div id="contentStringStreetView'+k.hY+'" class="placemarkContentPanorama" style="height:'+aP+'px;">';}else{bA+='<div id="contentStringStreetView'+k.hY+'" class="placemarkContentPanorama" style="width:'+aT+'px;height:'+aP+'px;">';}bA+='</div>';ad.close();var fL=ae("#GMapsPanel"+k.hY+"tabs-1").html(bA);k.hz=new google.maps.StreetViewPanorama(document.getElementById("contentStringStreetView"+k.hY),{navigationControl:true,enableCloseButton:false,addressControl:false,linksControl:false});k.hz.setPosition(fb);if(dz!=""){k.hz.setPov(dz);}var bv=ae("#GMapsPanel"+k.hY+' a[href="#GMapsPanel'+k.hY+'tabs-1"]').parent().index();fL=ae("#GMapsPanel"+k.hY).tabs("option","active",bv);google.maps.event.trigger(k.hz,'resize');var gN=ae("#GMapsID"+k.hY+' div.zhgm-panel-button'+k.eh+'-star').hasClass("active");if(!gN){ae("#GMapsID"+k.hY+' div.zhgm-panel-button-ui'+k.eh+'-star').trigger("click");}};zhgmLayerButtonControl.prototype.controlState=0;zhgmLayerButtonControl.prototype.fQ=function(){if(this.controlState==1){this.controlState=0;this.gV.setMap(null);}else{this.controlState=1;this.gV.setMap(this.v);}};zhgmLayerButtonControl.prototype.fW=function(){if(this.controlState==1){this.gV.setMap(this.v);}else{this.gV.setMap(null);}};function zhgmLayerButtonControl(bU,ge,gp,gW,gS,gi,gm,aT,aP,hl){this.gV=ge;this.v=bU;var control=this;var gl;var bW;if(gp==1){gl='';}else{gl='2';}if(gW==1){gl=gl+'';bW=1;this.controlState=1;}else if(gW==2){gl=gl+'-star';bW=2;this.controlState=0;}else if(gW==3){gl=gl+'';bW=3;this.controlState=0;}else if(gW==12){gl=gl+'-star';bW=2;this.controlState=1;}else if(gW==13){gl=gl+'';bW=3;this.controlState=1;}else{gl=gl+'';bW=1;this.controlState=0;}var gv=document.createElement('DIV');gv.className="zhgm-"+gi+"-button"+gl;gv.style.padding='5px';gv.index=1;this.gL=gv;var gg=document.createElement('DIV');gg.className="zhgm-"+gi+"-button-ui"+gl;gg.title=gm;gv.appendChild(gg);var gH=document.createElement('DIV');gH.className="zhgm-"+gi+"-button-text"+gl;if(bW==1){gH.innerHTML="";}else if(bW==2){gH.innerHTML='<img style="border: 0px none; padding: 0px; margin: 0px; width: '+aT+'px; height: '+aP+'px;" src="'+hl+'">';}else if(bW==3){gH.innerHTML=gm;}else{gH.innerHTML="";}gg.appendChild(gH);google.maps.event.addDomListener(gg,'click',function(){control.fQ();});control.fW();var fO="";if(gS){switch(gS){case 0:break;case 1:fO=google.maps.ControlPosition.TOP_CENTER;break;case 2:fO=google.maps.ControlPosition.TOP_LEFT;break;case 3:fO=google.maps.ControlPosition.TOP_RIGHT;break;case 4:fO=google.maps.ControlPosition.LEFT_TOP;break;case 5:fO=google.maps.ControlPosition.RIGHT_TOP;break;case 6:fO=google.maps.ControlPosition.LEFT_CENTER;break;case 7:fO=google.maps.ControlPosition.RIGHT_CENTER;break;case 8:fO=google.maps.ControlPosition.LEFT_BOTTOM;break;case 9:fO=google.maps.ControlPosition.RIGHT_BOTTOM;break;case 10:fO=google.maps.ControlPosition.BOTTOM_CENTER;break;case 11:fO=google.maps.ControlPosition.BOTTOM_LEFT;break;case 12:fO=google.maps.ControlPosition.BOTTOM_RIGHT;break;default:fO="";break;}}if(fO!=""){bU.controls[fO].push(gv);}};zhgmOverlayOpacityControl.prototype.opacity=100;zhgmOverlayOpacityControl.prototype.fW=function(){this.opacity=100;};zhgmOverlayOpacityControl.prototype.changeOpacity=function(){var hX=this.hy;hX.setOverlayOpacity(this.opacity/100);};function zhgmOverlayOpacityControl(gE,bU,gr,gp,gW,gS,gi,gm){this.gw=gE;this.v=bU;this.hi=jQuery.noConflict();this.hy=gr;var control=this;var jr=this.hi;var gl;var bW;if(gp==1){gl='';}else{gl='2';}if(gW=="vertical"){bW="vertical";}else if(gW=="horizontal"){bW="horizontal";}else{bW="vertical";}var gv=document.createElement('DIV');gv.className="zhgm-"+gi+"-slider"+gl;gv.style.padding='5px';gv.index=1;this.gL=gv;var gg=document.createElement('DIV');gg.className="zhgm-"+gi+"-slider-ui"+gl;gg.title=gm;gv.appendChild(gg);var controlInput=document.createElement('INPUT');controlInput.className="zhgm-"+gi+"-slider-input"+gl;controlInput.type="range";controlInput.min="0";controlInput.max="100";controlInput.value="100";controlInput.step="1";gg.appendChild(controlInput);google.maps.event.addDomListener(controlInput,'change',function(){control.opacity=this.value;control.changeOpacity();});control.fW();var fO="";if(gS){switch(gS){case 0:break;case 1:fO=google.maps.ControlPosition.TOP_CENTER;break;case 2:fO=google.maps.ControlPosition.TOP_LEFT;break;case 3:fO=google.maps.ControlPosition.TOP_RIGHT;break;case 4:fO=google.maps.ControlPosition.LEFT_TOP;break;case 5:fO=google.maps.ControlPosition.RIGHT_TOP;break;case 6:fO=google.maps.ControlPosition.LEFT_CENTER;break;case 7:fO=google.maps.ControlPosition.RIGHT_CENTER;break;case 8:fO=google.maps.ControlPosition.LEFT_BOTTOM;break;case 9:fO=google.maps.ControlPosition.RIGHT_BOTTOM;break;case 10:fO=google.maps.ControlPosition.BOTTOM_CENTER;break;case 11:fO=google.maps.ControlPosition.BOTTOM_LEFT;break;case 12:fO=google.maps.ControlPosition.BOTTOM_RIGHT;break;default:fO="";break;}}if(fO!=""){bU.controls[fO].push(gv);}};zhgmPlacemarkListButtonControl.prototype.controlState=0;zhgmPlacemarkListButtonControl.prototype.fQ=function(){if(this.controlState==1){this.controlState=0;var toHideDiv=document.getElementById(this.fP);toHideDiv.style.display="none";}else{this.controlState=1;var toShowDiv=document.getElementById(this.fP);toShowDiv.style.display="block";}};zhgmPlacemarkListButtonControl.prototype.fW=function(){};function zhgmPlacemarkListButtonControl(gf,bU,gp,gW,gS,gi,gm,aT,aP,hl){this.fP=gf;this.v=bU;var control=this;var gl;var bW;if(gp==1){gl='';}else{gl='2';}if(gW==1){gl=gl+'-star';bW=2;this.controlState=0;}else if(gW==2){gl=gl+'';bW=3;this.controlState=0;}else if(gW==11){gl=gl+'-star';bW=2;this.controlState=1;}else if(gW==12){gl=gl+'';bW=3;this.controlState=1;}else{gl=gl+'';bW=1;this.controlState=0;}var gv=document.createElement('DIV');gv.className="zhgm-"+gi+"-button"+gl;gv.style.padding='5px';gv.index=1;this.gL=gv;var gg=document.createElement('DIV');gg.className="zhgm-"+gi+"-button-ui"+gl;gg.title=gm;gv.appendChild(gg);var gH=document.createElement('DIV');gH.className="zhgm-"+gi+"-button-text"+gl;if(bW==1){gH.innerHTML="";}else if(bW==2){gH.innerHTML='<img style="border: 0px none; padding: 0px; margin: 0px; width: '+aT+'px; height: '+aP+'px;" src="'+hl+'">';}else if(bW==3){gH.innerHTML=gm;}else{gH.innerHTML="";}gg.appendChild(gH);google.maps.event.addDomListener(gg,'click',function(){control.fQ();});control.fW();var fO="";if(gS){switch(gS){case 0:break;case 1:fO=google.maps.ControlPosition.TOP_CENTER;break;case 2:fO=google.maps.ControlPosition.TOP_LEFT;break;case 3:fO=google.maps.ControlPosition.TOP_RIGHT;break;case 4:fO=google.maps.ControlPosition.LEFT_TOP;break;case 5:fO=google.maps.ControlPosition.RIGHT_TOP;break;case 6:fO=google.maps.ControlPosition.LEFT_CENTER;break;case 7:fO=google.maps.ControlPosition.RIGHT_CENTER;break;case 8:fO=google.maps.ControlPosition.LEFT_BOTTOM;break;case 9:fO=google.maps.ControlPosition.RIGHT_BOTTOM;break;case 10:fO=google.maps.ControlPosition.BOTTOM_CENTER;break;case 11:fO=google.maps.ControlPosition.BOTTOM_LEFT;break;case 12:fO=google.maps.ControlPosition.BOTTOM_RIGHT;break;default:fO="";break;}}if(fO!=""){bU.controls[fO].push(gv);}};zhgmMapCenterButtonControl.prototype.fQ=function(){this.v.setCenter(this.hh);if(this.fV!="do not change"){this.v.setZoom(parseInt(this.fV));}};zhgmMapCenterButtonControl.prototype.fW=function(){this.v.setCenter(this.hh);if(this.fV!="do not change"){this.v.setZoom(parseInt(this.fV));}};function zhgmMapCenterButtonControl(hb,gk,bU,gp,gW,gS,gi,gm,aT,aP,hl){this.hh=hb;this.fV=gk;this.v=bU;var control=this;var gl;var bW;if(gp==1){gl='';}else{gl='2';}if(gW==1){gl=gl+'-star';bW=2;}else if(gW==2){gl=gl+'-star';bW=2;}else if(gW==11){gl=gl+'';bW=3;}else if(gW==12){gl=gl+'';bW=3;}else{gl=gl+'';bW=1;}var gv=document.createElement('DIV');gv.className="zhgm-"+gi+"-button"+gl;gv.style.padding='5px';gv.index=1;this.gL=gv;var gg=document.createElement('DIV');gg.className="zhgm-"+gi+"-button-ui"+gl;gg.title=gm;gv.appendChild(gg);var gH=document.createElement('DIV');gH.className="zhgm-"+gi+"-button-text"+gl;if(bW==1){gH.innerHTML="";}else if(bW==2){gH.innerHTML='<img style="border: 0px none; padding: 0px; margin: 0px; width: '+aT+'px; height: '+aP+'px;" src="'+hl+'">';}else if(bW==3){gH.innerHTML=gm;}else{gH.innerHTML="";}gg.appendChild(gH);google.maps.event.addDomListener(gg,'click',function(){control.fQ();});control.fW();var fO="";if(gS){switch(gS){case 0:break;case 1:fO=google.maps.ControlPosition.TOP_CENTER;break;case 2:fO=google.maps.ControlPosition.TOP_LEFT;break;case 3:fO=google.maps.ControlPosition.TOP_RIGHT;break;case 4:fO=google.maps.ControlPosition.LEFT_TOP;break;case 5:fO=google.maps.ControlPosition.RIGHT_TOP;break;case 6:fO=google.maps.ControlPosition.LEFT_CENTER;break;case 7:fO=google.maps.ControlPosition.RIGHT_CENTER;break;case 8:fO=google.maps.ControlPosition.LEFT_BOTTOM;break;case 9:fO=google.maps.ControlPosition.RIGHT_BOTTOM;break;case 10:fO=google.maps.ControlPosition.BOTTOM_CENTER;break;case 11:fO=google.maps.ControlPosition.BOTTOM_LEFT;break;case 12:fO=google.maps.ControlPosition.BOTTOM_RIGHT;break;default:fO="";break;}}if(fO!=""){bU.controls[fO].push(gv);}};zhgmPanelButtonControl.prototype.controlState=0;zhgmPanelButtonControl.prototype.fQ=function(){var jr=this.hi;var he=document.getElementById(this.fP);var gP=this.v;var gd=this.fY;var gx=this.gX;if(this.controlState==1){this.gL.classList.remove("active");this.controlState=0;this.panelDiv.style.display="none";jr('#'+this.fU).animate({width:this.initialMapDivWidth},1000,function(){google.maps.event.trigger(gP,'resize');});}else{this.gL.classList.add("active");this.controlState=1;jr('#'+this.fU).animate({width:this.initialMapDivWidth-this.panelDivW},1000,function(){he.style.display="inline";google.maps.event.trigger(gP,'resize');jr('#'+gd).accordion("refresh");if(gx.hz){google.maps.event.trigger(gx.hz,'resize');}});}};zhgmPanelButtonControl.prototype.fW=function(){var jr=this.hi;this.initialMapDivWidth=jr('#'+this.fU).width();this.panelDiv=document.getElementById(this.fP);this.panelDivW=this.gT;if(this.controlState==0){this.gL.classList.remove("active");this.panelDiv.style.display="none";}else{this.gL.classList.add("active");jr('#'+this.fU).width(this.initialMapDivWidth-this.panelDivW);this.panelDiv.style.display="inline";}};function zhgmPanelButtonControl(gf,gQ,fT,gq,bU,l,gp,gW,gS,gi,gm,aT,aP,hl){this.fP=gf;this.fU=gQ;this.fY=fT;this.hi=jQuery.noConflict();this.gX=l;this.gT=gq;this.v=bU;var control=this;var gl;var bW;if(gp==1){gl='';}else{gl='2';}if(gW==1){gl=gl+'-star';bW=1;this.controlState=1;}else if(gW==0){gl=gl+'-star';bW=1;this.controlState=0;}else{gl=gl+'-star';bW=1;this.controlState=0;}var gv=document.createElement('DIV');gv.className="zhgm-"+gi+"-button"+gl;gv.style.padding='0px';gv.index=1;this.gL=gv;var gg=document.createElement('DIV');gg.className="zhgm-"+gi+"-button-ui"+gl;gg.title=gm;gv.appendChild(gg);var gH=document.createElement('DIV');gH.className="zhgm-"+gi+"-button-text"+gl;if(bW==1){gH.innerHTML="";}else if(bW==2){gH.innerHTML='<img style="border: 0px none; padding: 0px; margin: 0px; width: '+aT+'px; height: '+aP+'px;" src="'+hl+'">';}else if(bW==3){gH.innerHTML=gm;}else{gH.innerHTML="";}gg.appendChild(gH);google.maps.event.addDomListener(gg,'click',function(){control.fQ();});control.fW();var fO="";if(gS){switch(gS){case 0:break;case 1:fO=google.maps.ControlPosition.TOP_CENTER;break;case 2:fO=google.maps.ControlPosition.TOP_LEFT;break;case 3:fO=google.maps.ControlPosition.TOP_RIGHT;break;case 4:fO=google.maps.ControlPosition.LEFT_TOP;break;case 5:fO=google.maps.ControlPosition.RIGHT_TOP;break;case 6:fO=google.maps.ControlPosition.LEFT_CENTER;break;case 7:fO=google.maps.ControlPosition.RIGHT_CENTER;break;case 8:fO=google.maps.ControlPosition.LEFT_BOTTOM;break;case 9:fO=google.maps.ControlPosition.RIGHT_BOTTOM;break;case 10:fO=google.maps.ControlPosition.BOTTOM_CENTER;break;case 11:fO=google.maps.ControlPosition.BOTTOM_LEFT;break;case 12:fO=google.maps.ControlPosition.BOTTOM_RIGHT;break;default:fO="";break;}}if(fO!=""){bU.controls[fO].push(gv);}} 